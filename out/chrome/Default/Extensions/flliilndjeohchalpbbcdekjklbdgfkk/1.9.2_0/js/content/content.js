!function t(e,n,r){function u(i,o){if(!n[i]){if(!e[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(l)return l(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return u(n?n:t)},c,c.exports,t,e,n,r)}return n[i].exports}for(var l="function"==typeof require&&require,i=0;i<r.length;i++)u(r[i]);return u}({1:[function(t,e,n){var r;r={getManifest:function(){return chrome.runtime.getManifest()},getURL:function(t){return chrome.extension.getURL(t)}},e.exports=r},{}],2:[function(t,e,n){var r,u=function(t,e){return function(){return t.apply(e,arguments)}};r=function(){function t(t){var e;null==t&&(t={}),this._onMessage=u(this._onMessage,this),this.log=t.log,this.chrome=null!=(e=t.chrome)?e:chrome,this._subscribers={},this.chrome.runtime.onMessage.addListener(this._onMessage),this._port=this.chrome.runtime.connect({name:"ABS.ContentMessenger"})}return t.prototype._onMessage=function(t,e,n){var r,u,l,i;if(this.log&&this.log.debug("_onMessage:",t),t.channel&&(i=this._subscribers[t.channel]))for(r=0,u=i.length;u>r;r++)(l=i[r])(t.message,n);return!0},t.prototype.subscribe=function(t,e,n){var r;if(this.log&&this.log.info("subscribing to:",t),"function"!=typeof e)throw new Error("Expected callback to be a function");return r=this._subscribers[t],r?"function"==typeof n&&n():(this._subscribers[t]=r=[],this.chrome.runtime.sendMessage({subscribe:t},function(t){return"function"==typeof n?n():void 0})),r.push(e)},t.prototype.publish=function(t,e,n,r){return null==e&&(e=null),null==n&&(n=function(){}),null==r&&(r=10),this.log&&this.log.info("publishing to channel:",t,e),this.chrome.runtime.sendMessage({publish:t,message:e},function(u){return function(l){var i;return i=u.chrome.runtime.lastError,i&&"Could not establish connection. Receiving end does not exist."===i.message?--r?setTimeout(function(){return u.publish(t,e,n,r)},50):void 0:n(l)}}(this))},t.prototype.onReady=function(t){return t()},t.prototype.setReady=function(t){return t()},t.prototype.onDisconnect=function(t){return this._port.onDisconnect.addListener(t)},t}(),e.exports=r},{}],3:[function(require,module,exports){!function(w){w.com=w.com||{};var com=w.com;if(function(t,e){function n(t,e,n,r){var u,l,i,o,s;if((e?e.ownerDocument||e:M)!==q&&T(e),e=e||q,n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=e.nodeType)&&9!==o)return[];if(O&&!r){if(u=ht.exec(t))if(i=u[1]){if(9===o){if(!(l=e.getElementById(i))||!l.parentNode)return n;if(l.id===i)return n.push(l),n}else if(e.ownerDocument&&(l=e.ownerDocument.getElementById(i))&&D(e,l)&&l.id===i)return n.push(l),n}else{if(u[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&(!R||!R.test(t))){if(l=u=j,i=e,s=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(o=p(t),(u=e.getAttribute("id"))?l=u.replace(gt,"\\$&"):e.setAttribute("id",l),l="[id='"+l+"'] ",i=o.length;i--;)o[i]=l+h(o[i]);i=ot.test(t)&&e.parentNode||e,s=o.join(",")}if(s)try{return Y.apply(n,i.querySelectorAll(s)),n}catch(a){}finally{u||e.removeAttribute("id")}}}var c;t:{if(t=t.replace(ut,"$1"),l=p(t),!r&&1===l.length){if(u=l[0]=l[0].slice(0),2<u.length&&"ID"===(c=u[0]).type&&x.getById&&9===e.nodeType&&O&&S.relative[u[1].type]){if(e=(S.find.ID(c.matches[0].replace(mt,yt),e)||[])[0],!e){c=n;break t}t=t.slice(u.shift().value.length)}for(o=ft.needsContext.test(t)?0:u.length;o--&&(c=u[o],!S.relative[i=c.type]);)if((i=S.find[i])&&(r=i(c.matches[0].replace(mt,yt),ot.test(u[0].type)&&e.parentNode||e))){if(u.splice(o,1),t=r.length&&h(u),!t){Y.apply(n,r),c=n;break t}break}}C(t,l)(r,e,!O,n,ot.test(t)),c=n}return c}function r(){function t(n,r){return e.push(n+=" ")>S.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function u(t){return t[j]=!0,t}function l(t){var e=q.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function i(t,e){for(var n=t.split("|"),r=t.length;r--;)S.attrHandle[n[r]]=e}function o(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function a(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return u(function(e){return e=+e,u(function(n,r){for(var u,l=t([],n.length,e),i=l.length;i--;)n[u=l[i]]&&(n[u]=!(r[u]=n[u]))})})}function f(){}function p(t,e){var r,u,l,i,o,s,a;if(o=z[t+" "])return e?0:o.slice(0);for(o=t,s=[],a=S.preFilter;o;){r&&!(u=lt.exec(o))||(u&&(o=o.slice(u[0].length)||o),s.push(l=[])),r=!1,(u=it.exec(o))&&(r=u.shift(),l.push({value:r,type:u[0].replace(ut," ")}),o=o.slice(r.length));for(i in S.filter)!(u=ft[i].exec(o))||a[i]&&!(u=a[i](u))||(r=u.shift(),l.push({value:r,type:i,matches:u}),o=o.slice(r.length));if(!r)break}return e?o.length:o?n.error(t):z(t,s).slice(0)}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function v(t,e,n){var r=e.dir,u=n&&"parentNode"===r,l=B++;return e.first?function(e,n,l){for(;e=e[r];)if(1===e.nodeType||u)return t(e,n,l)}:function(e,n,i){var o,s,a,c=F+" "+l;if(i){for(;e=e[r];)if((1===e.nodeType||u)&&t(e,n,i))return!0}else for(;e=e[r];)if(1===e.nodeType||u)if(a=e[j]||(e[j]={}),(s=a[r])&&s[0]===c){if(!0===(o=s[1])||o===w)return!0===o}else if(s=a[r]=[c],s[1]=t(e,n,i)||w,!0===s[1])return!0}}function d(t){return 1<t.length?function(e,n,r){for(var u=t.length;u--;)if(!t[u](e,n,r))return!1;return!0}:t[0]}function g(t,e,n,r,u){for(var l,i=[],o=0,s=t.length,a=null!=e;s>o;o++)(l=t[o])&&(n&&!n(l,r,u)||(i.push(l),a&&e.push(o)));return i}function m(t,e,r,l,i,o){return l&&!l[j]&&(l=m(l)),i&&!i[j]&&(i=m(i,o)),u(function(u,o,s,a){var c,f,p,h=[],v=[],d=o.length;if(!(p=u)){p=e||"*";for(var m=s.nodeType?[s]:s,y=[],_=0,b=m.length;b>_;_++)n(p,m[_],y);p=y}if(p=!t||!u&&e?p:g(p,h,t,s,a),m=r?i||(u?t:d||l)?[]:o:p,r&&r(p,m,s,a),l)for(c=g(m,v),l(c,[],s,a),s=c.length;s--;)(f=c[s])&&(m[v[s]]=!(p[v[s]]=f));if(u){if(i||t){if(i){for(c=[],s=m.length;s--;)(f=m[s])&&c.push(p[s]=f);i(null,m=[],c,a)}for(s=m.length;s--;)(f=m[s])&&-1<(c=i?tt.call(u,f):h[s])&&(u[c]=!(o[c]=f))}}else m=g(m===o?m.splice(d,m.length):m),i?i(null,o,m,a):Y.apply(o,m)})}function y(t){var e,n,r,u=t.length,l=S.relative[t[0].type];n=l||S.relative[" "];for(var i=l?1:0,o=v(function(t){return t===e},n,!0),s=v(function(t){return-1<tt.call(e,t)},n,!0),a=[function(t,n,r){return!l&&(r||n!==k)||((e=n).nodeType?o(t,n,r):s(t,n,r))}];u>i;i++)if(n=S.relative[t[i].type])a=[v(d(a),n)];else{if(n=S.filter[t[i].type].apply(null,t[i].matches),n[j]){for(r=++i;u>r&&!S.relative[t[r].type];r++);return m(i>1&&d(a),i>1&&h(t.slice(0,i-1).concat({value:" "===t[i-2].type?"*":""})).replace(ut,"$1"),n,r>i&&y(t.slice(i,r)),u>r&&y(t=t.slice(r)),u>r&&h(t))}a.push(n)}return d(a)}function _(t,e){var r=0,l=0<e.length,i=0<t.length,o=function(u,o,s,a,c){var f,p,h=[],v=0,d="0",m=u&&[],y=null!=c,_=k,b=u||i&&S.find.TAG("*",c&&o.parentNode||o),x=F+=null==_?1:Math.random()||.1;for(y&&(k=o!==q&&o,w=r);null!=(c=b[d]);d++){if(i&&c){for(f=0;p=t[f++];)if(p(c,o,s)){a.push(c);break}y&&(F=x,w=++r)}l&&((c=!p&&c)&&v--,u&&m.push(c))}if(v+=d,l&&d!==v){for(f=0;p=e[f++];)p(m,h,o,s);if(u){if(v>0)for(;d--;)m[d]||h[d]||(h[d]=K.call(a));h=g(h)}Y.apply(a,h),y&&!u&&0<h.length&&1<v+e.length&&n.uniqueSort(a)}return y&&(F=x,k=_),m};return l?u(o):o}var b,x,w,S,E,P,C,k,A,T,q,L,O,R,N,I,D,j="sizzle"+-new Date,M=t.document,F=0,B=0,U=r(),z=r(),H=r(),J=!1,$=function(t,e){return t===e&&(J=!0),0},V=typeof e,X=-2147483648,G={}.hasOwnProperty,W=[],K=W.pop,Z=W.push,Y=W.push,Q=W.slice,tt=W.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),nt="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+et+")|)|)[\\x20\\t\\r\\n\\f]*\\]",rt=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+nt.replace(3,8)+")*)|.*)\\)|)",ut=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,lt=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,it=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ot=/[\x20\t\r\n\f]*[+~]/,st=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,at=RegExp(rt),ct=RegExp("^"+et+"$"),ft={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+nt),PSEUDO:RegExp("^"+rt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},pt=/^[^{]+\{\s*\[native \w/,ht=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,gt=/'|\\/g,mt=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/gi,yt=function(t,e,n){return t="0x"+e-65536,t!==t||n?e:0>t?String.fromCharCode(t+65536):String.fromCharCode(t>>10|55296,1023&t|56320)};try{Y.apply(W=Q.call(M.childNodes),M.childNodes),W[M.childNodes.length].nodeType}catch(_t){Y={apply:W.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}P=n.isXML=function(t){return(t=t&&(t.ownerDocument||t).documentElement)?"HTML"!==t.nodeName:!1},x=n.support={},T=n.setDocument=function(t){var e=t?t.ownerDocument||t:M;return t=e.defaultView,e!==q&&9===e.nodeType&&e.documentElement?(q=e,L=e.documentElement,O=!P(e),t&&t.attachEvent&&t!==t.top&&t.attachEvent("onbeforeunload",function(){T()}),x.attributes=l(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=l(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=l(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=l(function(t){return L.appendChild(t).id=j,!e.getElementsByName||!e.getElementsByName(j).length}),x.getById?(S.find.ID=function(t,e){if(typeof e.getElementById!==V&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(mt,yt);return function(t){return t.getAttribute("id")===e}}):(delete S.find.ID,S.filter.ID=function(t){var e=t.replace(mt,yt);return function(t){return(t=typeof t.getAttributeNode!==V&&t.getAttributeNode("id"))&&t.value===e}}),S.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],u=0,l=e.getElementsByTagName(t);if("*"===t){for(;n=l[u++];)1===n.nodeType&&r.push(n);return r}return l},S.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&O?e.getElementsByClassName(t):void 0},N=[],R=[],(x.qsa=pt.test(e.querySelectorAll))&&(l(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||R.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),t.querySelectorAll(":checked").length||R.push(":checked")}),l(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&R.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=pt.test(I=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&l(function(t){x.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),N.push("!=",rt)}),R=R.length&&RegExp(R.join("|")),N=N.length&&RegExp(N.join("|")),D=pt.test(L.contains)||L.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=L.compareDocumentPosition?function(t,n){if(t===n)return J=!0,0;var r=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return r?1&r||!x.sortDetached&&n.compareDocumentPosition(t)===r?t===e||D(M,t)?-1:n===e||D(M,n)?1:A?tt.call(A,t)-tt.call(A,n):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var r,u=0;r=t.parentNode;var l=n.parentNode,i=[t],s=[n];if(t===n)return J=!0,0;if(!r||!l)return t===e?-1:n===e?1:r?-1:l?1:A?tt.call(A,t)-tt.call(A,n):0;if(r===l)return o(t,n);for(r=t;r=r.parentNode;)i.unshift(r);for(r=n;r=r.parentNode;)s.unshift(r);for(;i[u]===s[u];)u++;return u?o(i[u],s[u]):i[u]===M?-1:s[u]===M?1:0},e):q},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==q&&T(t),e=e.replace(st,"='$1']"),x.matchesSelector&&O&&!(N&&N.test(e)||R&&R.test(e)))try{var r=I.call(t,e);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(u){}return 0<n(e,q,null,[t]).length},n.contains=function(t,e){return(t.ownerDocument||t)!==q&&T(t),D(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==q&&T(t);var r=S.attrHandle[n.toLowerCase()],r=r&&G.call(S.attrHandle,n.toLowerCase())?r(t,n,!O):e;return r===e?x.attributes||!O?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],r=0,u=0;if(J=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort($),J){for(;e=t[u++];)e===t[u]&&(r=n.push(u));for(;r--;)t.splice(n[r],1)}return t},E=n.getText=function(t){var e,n="",r=0;if(e=t.nodeType){if(1===e||9===e||11===e){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===e||4===e)return t.nodeValue}else for(;e=t[r];r++)n+=E(e);return n},S=n.selectors={cacheLength:50,createPseudo:u,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(mt,yt),t[3]=(t[4]||t[5]||"").replace(mt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,r=!t[5]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:r&&at.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(t[0]=t[0].slice(0,n),t[2]=r.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(mt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"([\\x20\\t\\r\\n\\f]|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(u){return u=n.attr(u,t),null==u?"!="===e:e?(u+="","="===e?u===r:"!="===e?u!==r:"^="===e?r&&0===u.indexOf(r):"*="===e?r&&-1<u.indexOf(r):"$="===e?r&&u.slice(-r.length)===r:"~="===e?-1<(" "+u+" ").indexOf(r):"|="===e?u===r||u.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,u){var l="nth"!==t.slice(0,3),i="last"!==t.slice(-4),o="of-type"===e;return 1===r&&0===u?function(t){return!!t.parentNode}:function(e,n,s){var a,c,f,p,h;n=l!==i?"nextSibling":"previousSibling";var v=e.parentNode,d=o&&e.nodeName.toLowerCase();if(s=!s&&!o,v){if(l){for(;n;){for(c=e;c=c[n];)if(o?c.nodeName.toLowerCase()===d:1===c.nodeType)return!1;h=n="only"===t&&!h&&"nextSibling"}return!0}if(h=[i?v.firstChild:v.lastChild],i&&s){for(s=v[j]||(v[j]={}),a=s[t]||[],p=a[0]===F&&a[1],f=a[0]===F&&a[2],c=p&&v.childNodes[p];c=++p&&c&&c[n]||(f=p=0)||h.pop();)if(1===c.nodeType&&++f&&c===e){s[t]=[F,p,f];break}}else if(s&&(a=(e[j]||(e[j]={}))[t])&&a[0]===F)f=a[1];else for(;(c=++p&&c&&c[n]||(f=p=0)||h.pop())&&((o?c.nodeName.toLowerCase()!==d:1!==c.nodeType)||!++f||(s&&((c[j]||(c[j]={}))[t]=[F,f]),c!==e)););return f-=u,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(t,e){var r,l=S.pseudos[t]||S.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return l[j]?l(e):1<l.length?(r=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,n){for(var r,u=l(t,e),i=u.length;i--;)r=tt.call(t,u[i]),t[r]=!(n[r]=u[i])}):function(t){return l(t,0,r)}):l}},pseudos:{not:u(function(t){var e=[],n=[],r=C(t.replace(ut,"$1"));return r[j]?u(function(t,e,n,u){u=r(t,null,u,[]);for(var l=t.length;l--;)(n=u[l])&&(t[l]=!(e[l]=n))}):function(t,u,l){return e[0]=t,r(e,null,l,n),!n.pop()}}),has:u(function(t){return function(e){return 0<n(t,e).length}}),contains:u(function(t){return function(e){return-1<(e.textContent||e.innerText||E(e)).indexOf(t)}}),lang:u(function(t){return ct.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(mt,yt).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if("@"<t.nodeName||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(e=0>n?n+e:n;0<=--e;)t.push(e);return t}),gt:c(function(t,e,n){for(n=0>n?n+e:n;++n<e;)t.push(n);return t})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=a(b);f.prototype=S.filters=S.pseudos,S.setFilters=new f,C=n.compile=function(t,e){var n,r=[],u=[],l=H[t+" "];if(!l){for(e||(e=p(t)),n=e.length;n--;)l=y(e[n]),l[j]?r.push(l):u.push(l);l=H(t,_(u,r))}return l},x.sortStable=j.split("").sort($).join("")===j,x.detectDuplicates=J,T(),x.sortDetached=l(function(t){return 1&t.compareDocumentPosition(q.createElement("div"))}),l(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||i("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&l(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||i("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),l(function(t){return null==t.getAttribute("disabled")})||i("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(t,e,n){var r;return n?void 0:(r=t.getAttributeNode(e))&&r.specified?r.value:!0===t[e]?e.toLowerCase():null}),t.com||(t.com={}),t.com.ciuvo||(t.com.ciuvo={}),t.com.ciuvo.Sizzle=n}(window),this.JSON||(this.JSON={}),function(){function k(t){return 10>t?"0"+t:t}function c(e){return f.lastIndex=0,f.test(e)?'"'+e.replace(f,function(e){var n=t[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function g(t,e){var r,u,l,i,o,s=b,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof n&&(a=n.call(e,t,a)),typeof a){case"string":return c(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(b+=x,o=[],"[object Array]"===Object.prototype.toString.apply(a)){for(i=a.length,r=0;i>r;r+=1)o[r]=g(r,a)||"null";return l=0===o.length?"[]":b?"[\n"+b+o.join(",\n"+b)+"\n"+s+"]":"["+o.join(",")+"]",b=s,l}if(n&&"object"==typeof n)for(i=n.length,r=0;i>r;r+=1)u=n[r],"string"==typeof u&&(l=g(u,a))&&o.push(c(u)+(b?": ":":")+l);else for(u in a)Object.hasOwnProperty.call(a,u)&&(l=g(u,a))&&o.push(c(u)+(b?": ":":")+l);return l=0===o.length?"{}":b?"{\n"+b+o.join(",\n"+b)+"\n"+s+"}":"{"+o.join(",")+"}",b=s,l}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,x,t={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,r){var u;if(x=b="","number"==typeof r)for(u=0;r>u;u+=1)x+=" ";else"string"==typeof r&&(x=r);if((n=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return g("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(b,c){function f(t,e){var n,r,u=t[e];if(u&&"object"==typeof u)for(n in u)Object.hasOwnProperty.call(u,n)&&(r=f(u,n),void 0!==r?u[n]=r:delete u[n]);return c.call(t,e,u)}var n;if(b=String(b),d.lastIndex=0,d.test(b)&&(b=b.replace(d,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return n=eval("("+b+")"),"function"==typeof c?f({"":n},""):n;throw new SyntaxError("JSON.parse")})}(),!com)var com={};if(com.ciuvo||(com.ciuvo={}),com.ciuvo.DEBUG=!1,com.ciuvo.localstorage={extension_id:"ciuvo-extension@avira.de",version:"1.4.9",label:"Avira Savings Advisor",partner_tag:"avira",campaign:"",media_url:"http://ciuvo.com/ciuvo/templates/1.4.9/avira/",api_url:"http://api.ciuvo.com/",secure_api_url:"https://ciuvo.com/",uuid_url:"http://ciuvo.com/ciuvo/uuid",event_url:"http://ciuvo.com/ciuvo/event/",base_url:"http://ciuvo.com",settings_url:"https://ciuvo.com",blacklist:"localhost|127.0.0.1",homepage:"http://www.ciuvo.com/redirect/avira/homepage/",uninstall_page:"http://www.ciuvo.com/redirect/avira/uninstall/",welcome_page:"http://www.ciuvo.com/redirect/avira/welcome/",feedback_page:"http://www.ciuvo.com/redirect/avira/feedback/",template_bundle:"bundle.json",toolbar_template:"toolbar/toolbar.html",youtube_template:"toolbar/youtube.html",icon_loading:"icons/avira/ciuvo_active.png",icon_inactive:"icons/avira/ciuvo_inactive.png",icon_ready:"icons/avira/ciuvo_active.png",icon_ready_with_items:"icons/avira/ciuvo_active.png",cookie_expiry_ms:"1209600000",grinder_expiry_ms:"21600000",xhr_timeout_sec:"20",rating_stars_max:"5",rating_stars_width:"56",always_minimized:!1},"undefined"!=typeof document){var api_endpoint=com.ciuvo.localstorage.api_url;"https:"===document.location.protocol&&(api_endpoint=com.ciuvo.localstorage.secure_api_url,com.ciuvo.localstorage.media_url=api_endpoint+"ciuvo/templates/1.4.9/avira/"),com.ciuvo.localstorage.api_endpoint=api_endpoint+"api/",com.ciuvo.localstorage.uuid_url=api_endpoint+"ciuvo/uuid",com.ciuvo.localstorage.globalstorage_url=api_endpoint+"ciuvo/globalstorage",com.ciuvo.localstorage.event_url=api_endpoint+"ciuvo/event/"}else com.ciuvo.localstorage.api_endpoint=com.ciuvo.localstorage.api_url+"api/";com.ciuvo.isEmpty=function(t){for(var e in t)return!t.hasOwnProperty(e)},com.ciuvo.setting=function(t,e){return"undefined"!=typeof e&&(com.ciuvo.localstorage[t]=e),com.ciuvo.localstorage[t]},com.ciuvo.update_settings=function(t){for(var e=["media_url","event_url","toolbar_template","partner_tag"],n=[],r=0;r<e.length;r++){var u=e[r];t.hasOwnProperty(u)&&t[u]!==com.ciuvo.setting(u)&&(com.ciuvo.setting(u,t[u]),n.push(u))}return n},com.ciuvo.user_settings=function(t){try{var e=JSON.parse(com.ciuvo.setting("settings"));t="GET"!==t;var n,r={};for(n in e)value=e[n],0===n.indexOf("GET-")?(n=n.substr(4),r[n]=value):0!==n.indexOf("LOCAL-")&&t&&(r[n]=value);if(!com.ciuvo.isEmpty(r))return t?r:JSON.stringify(r)}catch(u){}},com.ciuvo.blacklist_item=function(t,e){com.ciuvo.manager.blacklist_item(t,e)},com.ciuvo.Manager=function(){var t=[],e=function(){for(var t=[],e=0;36>e;e++)t[e]=Math.floor(16*Math.random());for(t[14]=4,t[19]=3&t[19]|8,e=0;36>e;e++)t[e]="0123456789ABCDEF"[t[e]];return t[8]=t[13]=t[18]=t[23]="-",t.join("")},n=function(){this.pages={},this.selected_tab={}};return n.prototype={register:function(t){com.ciuvo.storage=com.ciuvo.load_settings();var n=com.ciuvo.storage.tags||"";com.ciuvo.storage.version&&com.ciuvo.setting("version")!=com.ciuvo.storage.version?(com.ciuvo.setting("init","update-"+com.ciuvo.storage.version),com.ciuvo.storage.version=com.ciuvo.setting("version"),com.ciuvo.setting("update_page")&&com.ciuvo.open_url(com.ciuvo.setting("update_page"),!0)):-1===n.indexOf(com.ciuvo.setting("partner_tag"))&&(com.ciuvo.setting("init","firstrun"),com.ciuvo.setting("welcome_page")&&com.ciuvo.open_url(com.ciuvo.setting("welcome_page"),!0)),-1===n.indexOf(com.ciuvo.setting("partner_tag"))&&(n+=(0<n.length?",":"")+com.ciuvo.setting("partner_tag"),com.ciuvo.storage.tags=n),n=com.ciuvo.setting("partner_tag")+".campaign","undefined"!=typeof com.ciuvo.storage[n]?com.ciuvo.setting(n,com.ciuvo.storage[n]):com.ciuvo.setting(n)&&(com.ciuvo.storage[n]=com.ciuvo.setting(n)),com.ciuvo.storage.uuid?36!=com.ciuvo.storage.uuid.length&&(com.ciuvo.storage.uuid=e()):com.ciuvo.storage.uuid=e(),com.ciuvo.storage.hasOwnProperty("version")||(com.ciuvo.storage.version=com.ciuvo.setting("version")),this.init_plugin(t)},init_plugin:function(t){for(var e in com.ciuvo.storage)com.ciuvo.storage.hasOwnProperty(e)&&(com.ciuvo.localstorage[e]=com.ciuvo.storage[e]);com.ciuvo.save_settings(com.ciuvo.storage),e=new Date((new Date).getTime()+parseInt(com.ciuvo.setting("cookie_expiry_ms"),10));var n=com.ciuvo.setting("base_url");com.ciuvo.set_cookie({domain:n,name:"uuid",value:com.ciuvo.setting("uuid"),expires:e}),t()},check_whitelist_status:function(e,n,r){if(0===t.length)this.load_whitelist(e,n,r);else{for(var u=0,l=t.length;l>u;u++)if(t[u].exec(e)&&!this.is_blacklisted(e))return void n(u);"function"==typeof r&&r()}},is_blacklisted:function(t){var e=com.ciuvo.load_settings();if((e=JSON.parse(e.settings||"{}"))&&e.hasOwnProperty("LOCAL-blacklist"))for(var e=e["LOCAL-blacklist"]||[],n=0;n<e.length;n++)if(RegExp("^"+e[n]+"/").exec(t))return!0;return!1},parse_list:function(t){var e=[];if("undefined"==typeof t)return e;for(var n=0,r=t.length;r>n;n++)e.push(RegExp(t[n]));return e},load_whitelist:function(e,n,r){var u=this,l=com.ciuvo.setting("api_endpoint")+"whitelist?v="+encodeURIComponent(com.ciuvo.setting("version"))+"&uuid="+encodeURIComponent(com.ciuvo.setting("uuid"))+"&tag="+encodeURIComponent(com.ciuvo.setting("partner_tag"))+"&campaign="+encodeURIComponent(com.ciuvo.setting("campaign")),i=com.ciuvo.user_settings("GET");"undefined"!=typeof i&&(l+="&cfg="+encodeURIComponent(i));var o=new com.ciuvo.AjaxRequest("GET",l);o.set_onload(function(l){l=JSON.parse(o.req.responseText),t=u.parse_list(l["com.ciuvo.whitelist"]),com.ciuvo.setting("blockref",u.parse_list(l["com.ciuvo.blockref"])),com.ciuvo.setting("blacklist",u.parse_list(l["com.ciuvo.blacklist"])),com.ciuvo.update_settings(l),u.check_whitelist_status(e,n,r)}),o.set_onerror(function(){r()}),o.send(null)},blacklist_item:function(t,e){var n=com.ciuvo.setting("item_blacklist")||{};n[e]=1,com.ciuvo.setting("item_blacklist",n),"undefined"!=typeof this.pages[t]&&this.pages[t].remove_item(e)},add_page:function(t,e,n,r,u,l){var i=this,o=n.url;this.pages[t]&&i.pages[t].close(),this.check_whitelist_status(o,function(){i.pages[t]=new com.ciuvo.ConnectedPage(t,e,n,r,u,l),i.pages[t].page_loaded()})},remove_page:function(t){this.pages[t]&&(this.pages[t].close(),delete this.pages[t])},get_page:function(t){return this.pages[t]},grinder_result:function(t,e,n){"undefined"!=typeof this.pages[t]&&this.pages[t].entities_extracted(e,n)},close:function(){for(var t in this.pages)this.remove_page(t)}},n}(),com.ciuvo.plugins=function(){var t={CiuvoSearch:function(t,e){this.callback=t,this.timeout=1e3*parseInt(com.ciuvo.setting("xhr_timeout_sec"),10),this.endpoint=e.endpoint||com.ciuvo.setting("api_endpoint")+"analyze"}};t.CiuvoSearch.prototype={find:function(t,e,n,r){if(!n)throw Error("Ignoring empty request");e=com.ciuvo.user_settings("POST"),t={uuid:com.ciuvo.setting("uuid"),init:com.ciuvo.setting("init")||null,tag:com.ciuvo.setting("partner_tag"),version:com.ciuvo.setting("version"),campaign:com.ciuvo.setting("campaign"),query:n,url:t,cfg:e};var u=this;t="q="+encodeURIComponent((com.ciuvo.dumpJSON||JSON.stringify)(t)),this.request=new com.ciuvo.AjaxRequest("POST",this.endpoint),this.request.set_timeout(this.timeout),this.request.set_header("Content-Type","application/x-www-form-urlencoded"),this.request.set_onreadystatechange(function(){try{u.parse_response(u.request)}catch(t){}}),this.request.send(t)},cancel:function(){this.request&&this.request.abort()},parse_response:function(t){if(2==t.req.readyState&&200==t.req.status&&(t.items_parsed=0),(3==t.req.readyState||4==t.req.readyState)&&200==t.req.status&&"\n"==t.req.responseText.slice(-1)){var e=t.req.responseText.split("\n"),n=e.slice(t.items_parsed);for(t.items_parsed=e.length,t=0,e=n.length;e>t;t++)if(0!==n[t].length){com.ciuvo.setting("init","");var r=JSON.parse(n[t]);this.callback(r)}}}},t.VoucherSearch=function(t,e){this.callback=t,this.timeout=1e3*parseInt(com.ciuvo.setting("xhr_timeout_sec"),10),this.endpoint=e.endpoint||com.ciuvo.setting("api_endpoint")+"voucher",this.templateref=e.templateref||"voucher",this.category=e.category||"Voucher",this.priority=e.priority||1},t.VoucherSearch.prototype={find:function(t,e,n,r){if(r=com.ciuvo.setting("blockref"),e&&"undefined"!=typeof r&&r instanceof Array)for(var u=0;u<r.length;u++)if(r[u].exec(e))return;var l=(new Date).getTime(),i=this.get_hostname(t),o=com.ciuvo.load_settings(),s=o.coupon_cache||{};if(s&&"string"==typeof s)try{s=JSON.parse(s)}catch(a){s={}}if("undefined"==typeof s[i]||s[i].expires<l||40<s[i].offers.length){var c=this;e=this.endpoint+"?uuid="+encodeURIComponent(com.ciuvo.setting("uuid"))+"&tag="+encodeURIComponent(com.ciuvo.setting("partner_tag"))+"&version="+encodeURIComponent(com.ciuvo.setting("version"))+"&campaign="+encodeURIComponent(com.ciuvo.setting("campaign"))+"&url="+encodeURIComponent(i),
r=com.ciuvo.user_settings("GET"),"undefined"!=typeof r&&(e+="&cfg="+encodeURIComponent(r)),"object"==typeof n&&n.hasOwnProperty("region")&&(e+="&region="+encodeURIComponent(n.region)),this.request=new com.ciuvo.AjaxRequest("GET",e),this.request.set_timeout(this.timeout),this.request.set_onload(function(){var e=[];try{e=JSON.parse(c.request.req.responseText)}catch(r){}"items"in e&&(e.items[0].expires=1e3*e.items[0]["max-age"]+l,c.process_voucher_displays(s[i],e.items[0]),s[i]=e.items[0]),c.find_voucher(o,s,n,t)}),this.request.send()}else this.find_voucher(o,s,n,t)},process_voucher_displays:function(t,e){if(t&&e)for(var n=0;n<e.offers.length;n++)for(var r=e.offers[n],u=0;u<t.offers.length;u++)if(r.slug===t.offers[u].slug){r.displays=t.offers[u].displays;break}},cancel:function(){this.request&&this.request.abort()},get_hostname:function(t){return t.match(/^(https?:\/\/.*?\/)/)[1]},find_voucher:function(t,e,n,r){n=[];var u,l=this.get_hostname(r);r=new Date;for(var i in e)if(i===l){for(var l=0,o=e[i].offers.length;o>l;l++){var s=e[i].offers[l];(!s.coupon_expire_date||new Date(s.coupon_expire_date)>r)&&("undefined"==typeof s.displays?s.displays=0:s.displays++,n.push(s))}0<n.length&&(u={coupon_notification:!0,alerttype:"coupon",source:"Voucher",priority:this.priority}),e[i].offers=n,t.coupon_cache=(com.ciuvo.dumpJSON||JSON.stringify)(e),com.ciuvo.save_settings(t);break}this.callback({status:200,morepending:!1,items:[{notification:u,offers:n}]})}};var e=function(t,e){return t.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})};return t.KeywordMatcher=function(t,e){this.callback=t,this.matchfield=e.matchfield||"q",this.offer=e.offer,this.notification=e.notification,this.keyword_mapping=e.keyword_mapping},t.KeywordMatcher.prototype={find:function(t,e,n,r){if("undefined"==typeof r[this.matchfield]||!this.keyword_mapping||!this.offer)throw Error("find() called with invalid configuration.");t=r[this.matchfield],t=decodeURIComponent(t.replace(/\+/g,"%20")),this.match_keywords(t)},match_keywords:function(t){var n=[];t=t.trim();for(var r in this.keyword_mapping.user_queries)if(this.keyword_mapping.user_queries instanceof Array&&(r=this.keyword_mapping.user_queries[r]),-1!==t.indexOf(r)){t={};for(var u in this.offer)t[u]=this.offer[u];this.keyword_mapping.user_queries instanceof Array||(u=r,r=this.keyword_mapping.user_queries[r],u=this.keyword_mapping.disp_map[r[0]],r=this.keyword_mapping.query_map[r[1]],u&&(t.description=u),t.url=e(t.url,[r])),n[0]=t;break}t={status:200,morepending:!1,items:[{offers:n}]},0<n.length&&this.notification&&(t.items[0].notification=this.notification),this.callback(t)},cancel:function(){this.request&&this.request.abort()}},t}(),com.ciuvo.AjaxRequest=function(t,e){this.method=t,this.url=e,this.requestTimer=void 0,this.type="XHR",this.req="undefined"!=typeof com.ciuvo.XMLHttpRequest?new com.ciuvo.XMLHttpRequest:new XMLHttpRequest,"withCredentials"in this.req||"undefined"==typeof XDomainRequest||(this.type="XDR",this.req=new XDomainRequest,this.req.readyState=1),this.req.open(t,e,!0),"XDR"===this.type&&(this.req.onprogress=function(){},this.req.ontimeout=function(){},this.req.onerror=function(){},this.req.onload=function(){},this.req.timeout=0)},com.ciuvo.AjaxRequest.prototype={wrap_callback:function(t){var e=this;return function(n){e.clearTimeout(),t(n)}},set_onreadystatechange:function(t){"XDR"===this.type?(this.req.readyState=3,this.req.status=200,this.req.onload=this.wrap_callback(t)):this.req.onreadystatechange=this.wrap_callback(t)},set_onload:function(t){"XDR"===this.type&&(this.req.readyState=3,this.req.status=200),this.req.onload=this.wrap_callback(t)},set_onerror:function(t){"XDR"===this.type&&(this.req.readyState=3,this.req.status=500),this.req.onerror=this.wrap_callback(t)},set_header:function(t,e){"setRequestHeader"in this.req&&this.req.setRequestHeader(t,e)},set_timeout:function(t,e){this.timeout=t,this.timeout_callback=e},abort:function(){this.req&&this.req.abort()},setupTimeout:function(t,e){this.requestTimer=window.setTimeout(t,e)},clearTimeout:function(){this.requestTimer&&(window.clearTimeout(this.requestTimer),this.requestTimer=void 0)},send:function(t){var e=this;"undefined"!=typeof this.timeout&&this.setupTimeout(function(){e.req.abort(),e.timeout_callback&&e.timeout_callback()},this.timeout),"XDR"===this.type?setTimeout(function(){e.req.send(t)},200):this.req.send(t)}},com.ciuvo.ConnectedPage=function(){var t=function(t,e){return t==e?0:e>t?-1:1},e=function(e,n){var r=t;return e&&(r=function(n,r){return t(e(n),e(r))}),n?function(t,e){return-1*r(t,e)}:r},n=function(t,e,n,r,u,l){this.tab_id=t,this.window_id=e,this.content=n,this.grinder=com.ciuvo.grinder.get_grinder(this.content.url),this.update_toolbar_callback=r,this.finish_toolbar_callback=u,this.renderer=l,this.render_callback=function(t,e){return function(){e.apply(t,arguments)}}(this,this.update_toolbar),this.status=2,this.status_text="",this.content.query="",this.content.id=void 0,this.content.tab_id=this.tab_id,this.content.finished=!1,this.content.last_response_status=0,this.content.must_show=!1,this.content.toolbar_html=null,this.content.youtube_template=null,this.content.settings_iframe_template=null,this.clear_items()};return n.prototype={update_status:function(t,e){e||(e=""),"undefined"!=typeof t&&(this.status=t,this.status_text=e);var n="",r="";1==this.status?(r=com.ciuvo.str("tooltip_loading")+" "+this.status_text,n=com.ciuvo.setting("icon_loading")):3==this.status?(r=com.ciuvo.str("tooltip_done")+": "+this.status_text,n=com.ciuvo.setting("icon_ready")):4==this.status?(r=com.ciuvo.str("tooltip_done")+": "+this.status_text,n=com.ciuvo.setting("icon_ready_with_items")):(r=com.ciuvo.str("tooltip_inactive"),n=com.ciuvo.setting("icon_inactive")),com.ciuvo.set_status_text(r,this.tab_id,this),com.ciuvo.set_status_icon(n,this.tab_id,this)},update_toolbar:function(){this.update_toolbar_callback(this),this.content.finished&&this.finish_toolbar_callback(this)},page_loaded:function(t){t?this.entities_extracted(t,void 0):this.call_backend()},page_closed:function(){this.update_status(2)},get_hostname:function(t){return t.match(/^(https?:\/\/.*?\/)/)[1]},entities_extracted:function(t,e){this.clear_items(),this.update_status(2),this.pending_plugins={},this.num_pending_plugins=0;for(var n=this,r=function(t){t&&!t.morepending&&(delete n.pending_plugins[o],n.num_pending_plugins--),n.process_chunk(t)},u=0,l=this.grinder.plugins.length;l>u;u++){var i=this.grinder.plugins[u],o=i[0],i=i[1]||{},s=com.ciuvo.plugins[o];if(s)try{var a=new s(r,i);this.pending_plugins[o]=a,this.num_pending_plugins++}catch(c){}}for(o in this.pending_plugins){a=this.pending_plugins[o],com.ciuvo.log("Executing plugin: "+o);try{a.find(this.content.url,this.content.referrer,t,e)}catch(f){delete this.pending_plugins[o],this.num_pending_plugins--,0>=this.num_pending_plugins&&(this.content.finished=!0,this.update_toolbar())}}},call_backend:function(){var t=this;if(this.grinder)this.grinder.execute(this);else{var e=com.ciuvo.setting("api_endpoint")+"analyze?uuid="+encodeURIComponent(com.ciuvo.setting("uuid")||"")+"&tag="+encodeURIComponent(com.ciuvo.setting("partner_tag")||"")+"&version="+encodeURIComponent(com.ciuvo.setting("version"))+"&campaign="+encodeURIComponent(com.ciuvo.setting("campaign")||"")+"&url="+encodeURIComponent(this.get_hostname(this.content.url)),n=com.ciuvo.user_settings("GET");"undefined"!=typeof n&&(e+="&cfg="+encodeURIComponent(n));var r=new com.ciuvo.AjaxRequest("GET",e),e=1e3*parseInt(com.ciuvo.setting("xhr_timeout_sec"),10);r.set_timeout(e,function(){t.update_status(2,com.ciuvo.str("tooltip_noresponse"))}),r.set_onload(function(){var e=JSON.parse(r.req.responseText);t.process_chunk(e)}),r.send()}},process_chunk:function(t){var e=com.ciuvo.update_settings(t);if(this.renderer&&-1<e.join(",").indexOf("media_url")&&this.renderer.clear_template_cache(),200==t.status){for(e=1,update_keys=["query","id","tracker"],e=0;e<update_keys.length;e++){var n=update_keys[e];t.hasOwnProperty(n)&&(this.content[n]=t[n])}for(e=0;e<t.items.length;e++)this.add_item(t.items[e]);0>=this.num_pending_plugins&&(this.content.finished=!0),0<this.content.categories.length?(this.sort_offers("Product",{name:"sortorder",primer:parseInt},{name:"price",primer:parseInt}),this.sort_categories(),e=4,this.renderer.run(this,this.render_callback)):(e=3,this.update_toolbar()),this.update_status(e,this.content.query)}else 201==t.status&&201!=this.last_response_status?(this.grinder=com.ciuvo.grinder.set_grinder(t.priority,t.csl,t.match,t.plugins),this.grinder.execute(this)):405==t.status&&(e=this.get_hostname(this.content.url),com.ciuvo.grinder.set_default_grinder(e),this.update_status(2));this.last_response_status=t.status},add_item:function(t){for(var e=0,n=com.ciuvo.setting("item_blacklist")||{},r=0,u=t.offers.length;u>r;r++){var l=t.offers[r];l.url&&n[l.slug]||("undefined"==typeof this.content.types[l.category]&&(this.content.types[l.category]={category_html:void 0},this.content.offers[l.category]=[],this.content.categories.push(l.category),this.priorities[l.category]=l.priority||0),this.content.must_show=!l.displays||this.content.must_show,e++,this.content.total_items+=1,this.content.offers[l.category].push(l))}"undefined"!=typeof t.notification&&e>0&&("undefined"==typeof this.content.notification||t.notification.priority>=this.content.notification.priority)&&(this.content.notification=t.notification)},remove_item:function(t){for(var e in this.content.offers)for(var n=0,r=this.content.offers[e].length;r>n;n++)if(this.content.offers[e][n].slug===t){if(this.content.total_items-=1,this.content.offers[e].splice(n,1),0===this.content.offers[e].length){for(delete this.content.types[e],n=0;n<this.content.categories.length;n++)if(this.content.categories[n]===e){this.content.categories.splice(n,1);break}"undefined"!=typeof this.content.notification&&this.content.notification.source===e&&(this.content.notification=void 0)}this.update_toolbar();break}},clear_items:function(){this.content.categories=[],this.priorities={},this.content.types={},this.content.offers={},this.content.total_items=0,delete this.content.notification},sort_offers:function(n){if(this.content.offers.hasOwnProperty(n)){for(var r,u,l=[],i=1;i<arguments.length;i++)r=arguments[i],"string"==typeof r?(u=r,r=t):(u=r.name,r=e(r.primer,r.reverse)),l.push({name:u,cmp:r});this.content.offers[n].sort(function(t,e){for(var n=0,r=0;r<l.length;r++){var u=l[r];if("undefined"!=typeof t[u.name]&&(n=u.cmp(t[u.name],e[u.name]),0!==n))break}return n})}},sort_categories:function(){var t=this.priorities;this.content.categories.sort(function(e,n){return t[n]-t[e]})},close:function(){if(0<this.num_pending_plugins)for(var t in this.pending_plugins)this.pending_plugins[t].cancel();this.interpreter&&(this.interpreter.close(),delete this.interpreter),this.finish_toolbar_callback=this.update_toolbar_callback=null,this.renderer&&(this.renderer.css_callback=null),this.renderer=null}},n}(),com.ciuvo.grinder||(com.ciuvo.grinder={}),com.ciuvo.grinder=function(){var t=[];return{Grinder:function(t,e){if(this.csl_code=t,"string"!=typeof t)throw"CSL code must be string.";this.plugins=e,this.create_grinder()},get_grinder:function(e){for(var n=new Date,r=0,u=t.length;u>r;r++){var l=t[r];if(!(n-l.added>com.ciuvo.setting("grinder_expiry_ms"))&&l.match.test(e))return l.grinder}},set_grinder:function(e,n,r,u){return n=new com.ciuvo.grinder.Grinder(n,u),t.push({priority:e,match:RegExp(r),grinder:n,plugins:u,added:new Date}),t.sort(function(t,e){return t.priority-e.priority}),n},set_default_grinder:function(t){return com.ciuvo.grinder.set_grinder(0,"require $noop\nreturn $noop",t)}}}(),com.ciuvo.csl=function(){function t(e,n){if(null===e||null===n||void 0===e||void 0===n)return e===n;for(var r in n)if("_"!=r[0]&&!e.hasOwnProperty(r))return!1;for(r in e)if("_"!=r[0]){if(!n.hasOwnProperty(r))return!1;if(e[r])switch(typeof e[r]){case"object":if(!t(e[r],n[r]))return!1;break;default:if(e[r]!==n[r])return!1}else if(n[r])return!1}return!0}function e(t,e){var n,r,u=e;this.pause=function(){window.clearTimeout(n),u-=new Date-r},this.resume=function(){r=new Date,n=window.setTimeout(function(){t()},u)},this.cancel=function(){window.clearTimeout(n)},this.resume()}var n=function(t){this.message=t,this.name="TypeError"},r=function(t){this.message=t,this.name="ValueError"},u=function(t){this.message=t,this.name="RequireError"};u.prototype.getMessage=function(){return this.name+": "+this.message};var l=function(t){this.message=t,this.name="InterpreterError"},i=function(){this.name="InterruptException"},o=function(t,e,n,r){this.doc=t,this.window=e,this.ret={},this.id=o.id++,this.first_run=!0;var u=this;this.return_callback=function(t){n(t,u.getCurrentContext())},this.error_callback=function(t){var e=u.getCurrentContext();e._modified&&r(t,e)}};return o.id=0,o.prototype.InterpreterError=l,o.prototype.RequireError=u,o.prototype.interpretNext=function(){var t=this.stmt_stack;if(0<t.length)try{var e=t.pop();this.current_stmt=e,e.interpret(this),this.interpretNext()}catch(n){n instanceof i?t.push(e):this.error_callback.call(this,n)}},o.prototype.getCurrentContext=function(){var e,n={_refresh:void 0!==this.refresh_timer};for(e in this.variables){var r=e.substring(1);n[r]=this.variables[e]}return n._modified=void 0===this.previousContext?!0:!t(this.previousContext,n),n},o.prototype.interpret=function(t){this.first_run?(this.previousContext=void 0,this.first_run=!1):this.previousContext=this.getCurrentContext(),this.variables={},this.temp={},this.stmt_stack=[],this.ast=t,this.wait_timer=this.refresh_timer=void 0,t.interpret(this)},o.prototype.pause_timers=function(t){this.refresh_timer&&this.refresh_timer.pause(),this.wait_timer&&this.wait_timer.pause()},o.prototype.resume_timers=function(t){this.refresh_timer&&this.refresh_timer.resume(),this.wait_timer&&this.wait_timer.resume()},o.prototype.close=function(t){this.refresh_timer&&this.refresh_timer.cancel(),this.wait_timer&&this.wait_timer.cancel()},o.prototype.function_table={"const":function(t){return t},sizzle:function(){var t,e,n,r=Array.prototype.slice.call(arguments),u=r[0];1<r.length&&(t=r[1]);try{e=com.ciuvo.jQuery}catch(i){throw new l("jQuery not available under com.ciuvo.jQuery.")}try{n=e(u,this.doc)}catch(o){throw new l("CSS Selector - "+o)}if(0===n.length)return"";for(r=[],u=0;u<n.length;u++){e=n[u];var s="",s=t?"textContent"==t?e.textContent||e.innerText:e.getAttribute(t):e.innerHTML;r.push(s)}return 1==r.length?r[0]:r},debug:function(){var t=Array.prototype.slice.call(arguments);com&&com.ciuvo&&com.ciuvo.log&&com.ciuvo.log(t)},httpGet:function(t){var e=this.temp,n="__httpGet__"+t;if(n in e)return t=e[n],delete e[n],t;var r=new com.ciuvo.AjaxRequest("GET",t),u=this;throw r.set_onreadystatechange(function(t){t=null,4==r.req.readyState&&(200==r.req.status&&(t=r.req.responseText),e[n]=t,u.interpretNext())}),r.set_onerror(function(t){e[n]=null,u.interpretNext()}),r.send(null),new i},join:function(t,e){return t.join(e)},len:function(t){return t.hasOwnProperty("length")?t.length:void 0},re:function(){var t=arguments,e=this.doc.documentElement.innerHTML,n=t[0],u="";if(2<=t.length&&(u=t[1]),3==t.length&&(e=t[2]),3<t.length)throw new r("'re' expression expects 3 arguments at most.");if(!e)return"";if("string"!=typeof e)try{e=e.toString()}catch(l){throw new r("'re' block argument has no 'toString'.")}return e=e.replace(/(\r|\n)/gi,""),n instanceof RegExp&&(n=n.source),n=n.replace(/"([^?])/gi,'"?$1'),-1==u.search("i")&&(u+="i"),n=RegExp(n,u),(t=e.match(n))?-1!=u.search("g")?t:1==t.length?!0:t[1]:""},refresh:function(t){var n=this;if(void 0===t)throw new r("refresh interval argument required.");if(t=parseInt(t,10),1e3>t)throw new r("interval must be at least 1000.");this.refresh_timer&&this.refresh_timer.cancel(),this.refresh_timer=new e(function(){n.interpret(n.ast)},t)},replace:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if("string"!=typeof e)throw new n("First argument must be of type string.");if(0===t.length||0!==t.length%2)throw new r("ReplaceExpression got wrong number of args.");for(t.reverse();0<t.length;){var u=t.pop();u instanceof RegExp&&(u=u.source);var l=t.pop();try{u=RegExp(u,"gi")}catch(i){throw new r("Cannot create RegExp for "+u)}e=e.replace(u,l)}return e},trim:function(t){return"string"==typeof t&&(t=t.replace(/\s+/gi," "),t=t.replace(/^\s/i,"").replace(/\s$/i,"")),t},url:function(){var t=this.doc;try{return t.location.href}catch(e){throw new l("'doc' has no property 'location.href'.")}},urlParam:function(t){var e,n=this.doc;try{e=n.location.href}catch(r){throw new l("'doc' has no property 'location.href'.")}n=e.slice(e.indexOf("?")+1).split("&"),e={};for(var u=0,i=n.length;i>u;u++){var o=n[u].split("=");e[o[0]]=o[1]}return e[t]},version:function(){return com.ciuvo.csl.parser?com.ciuvo.csl.parser.VERSION:void 0},at_least_version:function(t){function e(t){if("string"!=typeof t)return!1;var e=t.split(".");t=parseInt(e[0],10)||0;var n=parseInt(e[1],10)||0,e=parseInt(e[2],10)||0;return{major:t,minor:n,patch:e}}if(!com.ciuvo.csl.parser)throw new l("CSL Parser not in namespace. ");t=e(t);var n=e(com.ciuvo.csl.parser.VERSION);return n.major!=t.major?n.major>t.major:n.minor!=t.minor?n.minor>t.minor:n.patch!=t.patch?n.patch>t.patch:!0},wait:function(t){var e=this;if(!("wait_token"in this.temp)){if(t=parseInt(t,10),0>t)throw new r("Delay must be larger than 0.");throw window.setTimeout(function(){e.temp.wait_token=null,e.interpretNext()},t),new i}delete this.temp.wait_token},xpath:function(t){var e=this.doc;if(!("evaluate"in e))throw new l("DOM doc object has no 'evaluate' function.");var n=null;try{n=e.evaluate(t,e,null,2,null)}catch(r){throw new l(r)}return n?n.stringValue:""}},{TypeError:n,ValueError:r,InterruptException:i,Interpreter:o}}(),com.ciuvo.csl.parser=function(){var t={parse:function(t,e){function n(t){var e=t.charCodeAt(0);if(255>=e){t="x";var n=2}else t="u",n=4;t="\\"+t;for(var r=e.toString(16).toUpperCase(),e=r,n=n-r.length,r=0;n>r;r++)e="0"+e;return t+e}function r(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,n)+'"'}function u(t){Wt>Xt||(Xt>Wt&&(Wt=Xt,Kt=[]),Kt.push(t))}function l(){var e="SourceCharacter@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(t.length>Xt?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("any character")),Zt[e]={nextPos:Xt,result:n},n)}function i(){var e="WhiteSpace@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Gt,Gt=!1,null!==t.substr(Xt).match(/^[\t\x0B\f \xA0\uFEFF]/)){var r=t.charAt(Xt);Xt++}else r=null,Gt&&u("[	\x0B\f \\xA0\\uFEFF]");return null===r&&(r=v(),r=null!==r?r:null),(Gt=n)&&null===r&&u("whitespace"),Zt[e]={nextPos:Xt,result:r},r}function o(){var e="LineTerminator@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[\n\r\u2028\u2029]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[\\n\\r\\u2028\\u2029]")),Zt[e]={nextPos:Xt,result:n},n)}function s(){var e="LineTerminatorSequence@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Gt,Gt=!1,"\n"===t.substr(Xt,1)){var r="\n";Xt+=1}else r=null,Gt&&u('"\\n"');return null===r&&("\r\n"===t.substr(Xt,2)?(r="\r\n",Xt+=2):(r=null,Gt&&u('"\\r\\n"')),null===r&&("\r"===t.substr(Xt,1)?(r="\r",Xt+=1):(r=null,Gt&&u('"\\r"')),null===r&&("\u2028"===t.substr(Xt,1)?(r="\u2028",Xt+=1):(r=null,Gt&&u('"\\u2028"')),null===r&&("\u2029"===t.substr(Xt,1)?(r="\u2029",Xt+=1):(r=null,Gt&&u('"\\u2029"')),r=null!==r?r:null)))),(Gt=n)&&null===r&&u("end of line"),Zt[e]={nextPos:Xt,result:r},r}function a(){var t="Comment@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=c();return null===n&&(n=p(),n=null!==n?n:null),(Gt=e)&&null===n&&u("comment"),Zt[t]={nextPos:Xt,result:n},n}function c(){var e="MultiLineComment@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Xt,"/*"===t.substr(Xt,2)){var r="/*";Xt+=2}else r=null,Gt&&u('"/*"');if(null!==r){var i=[],o=Xt,s=Xt,a=Gt;if(Gt=!1,"*/"===t.substr(Xt,2)){var c="*/";Xt+=2}else c=null,Gt&&u('"*/"');for(Gt=a,null===c?a="":(a=null,Xt=s),null!==a?(s=l(),null!==s?s=[a,s]:(s=null,Xt=o)):(s=null,Xt=o);null!==s;)i.push(s),s=o=Xt,a=Gt,Gt=!1,"*/"===t.substr(Xt,2)?(c="*/",Xt+=2):(c=null,Gt&&u('"*/"')),Gt=a,null===c?a="":(a=null,Xt=s),null!==a?(s=l(),null!==s?s=[a,s]:(s=null,Xt=o)):(s=null,Xt=o);null!==i?("*/"===t.substr(Xt,2)?(o="*/",Xt+=2):(o=null,Gt&&u('"*/"')),null!==o?r=[r,i,o]:(r=null,Xt=n)):(r=null,Xt=n)}else r=null,Xt=n;return Zt[e]={nextPos:Xt,result:r},r}function f(){var e="MultiLineCommentNoLineTerminator@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Xt,"/*"===t.substr(Xt,2)){var r="/*";Xt+=2}else r=null,Gt&&u('"/*"');if(null!==r){var i=[],s=Xt,a=Xt,c=Gt;if(Gt=!1,"*/"===t.substr(Xt,2)){var f="*/";Xt+=2}else f=null,Gt&&u('"*/"');for(null===f&&(f=o(),f=null!==f?f:null),Gt=c,null===f?c="":(c=null,Xt=a),null!==c?(a=l(),null!==a?a=[c,a]:(a=null,Xt=s)):(a=null,Xt=s);null!==a;)i.push(a),a=s=Xt,c=Gt,Gt=!1,"*/"===t.substr(Xt,2)?(f="*/",Xt+=2):(f=null,Gt&&u('"*/"')),null===f&&(f=o(),f=null!==f?f:null),Gt=c,null===f?c="":(c=null,Xt=a),null!==c?(a=l(),null!==a?a=[c,a]:(a=null,Xt=s)):(a=null,Xt=s);null!==i?("*/"===t.substr(Xt,2)?(s="*/",Xt+=2):(s=null,Gt&&u('"*/"')),null!==s?r=[r,i,s]:(r=null,Xt=n)):(r=null,Xt=n)}else r=null,Xt=n;return Zt[e]={nextPos:Xt,result:r},r}function p(){var e="SingleLineComment@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Xt,"//"===t.substr(Xt,2)){var r="//";Xt+=2}else r=null,Gt&&u('"//"');if(null!==r){var i=[],s=Xt,a=Xt,c=Gt;Gt=!1;var f=o();for(Gt=c,null===f?c="":(c=null,Xt=a),null!==c?(a=l(),null!==a?a=[c,a]:(a=null,Xt=s)):(a=null,Xt=s);null!==a;)i.push(a),a=s=Xt,c=Gt,Gt=!1,f=o(),Gt=c,null===f?c="":(c=null,Xt=a),null!==c?(a=l(),null!==a?a=[c,a]:(a=null,Xt=s)):(a=null,Xt=s);null!==i?r=[r,i]:(r=null,Xt=n)}else r=null,Xt=n;return Zt[e]={nextPos:Xt,result:r},r}function h(){var e="IdentifierStart@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("$"===t.substr(Xt,1)?(n="$",Xt+=1):(n=null,Gt&&u('"$"')),Zt[e]={nextPos:Xt,result:n},n)}function v(){var e="Zs@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[ \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[ \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000]")),Zt[e]={nextPos:Xt,result:n},n)}function d(){var e="EOS@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var n=Xt,r=m();if(null!==r){var l=s();null!==l?r=[r,l]:(r=null,Xt=n)}else r=null,Xt=n;if(null!==r)n=r;else{if(n=Xt,r=m(),null!==r){var l=Xt,i=Gt;if(Gt=!1,"}"===t.substr(Xt,1)){var o="}";Xt+=1}else o=null,Gt&&u('"}"');Gt=i,null!==o?(i="",Xt=l):i=null,null!==i?r=[r,i]:(r=null,Xt=n)}else r=null,Xt=n;null!==r?n=r:(n=Xt,r=y(),null!==r?(l=g(),null!==l?r=[r,l]:(r=null,Xt=n)):(r=null,Xt=n),n=null!==r?r:null)}return Zt[e]={nextPos:Xt,result:n},n}function g(){var e="EOF@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var n=Xt,r=Gt;if(Gt=!1,t.length>Xt){var l=t.charAt(Xt);Xt++}else l=null,Gt&&u("any character");return Gt=r,null===l?r="":(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function m(){var t="_@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=[],n=i();for(null===n&&(n=f(),null===n&&(n=p(),n=null!==n?n:null));null!==n;)e.push(n),n=i(),null===n&&(n=f(),null===n&&(n=p(),n=null!==n?n:null));return Zt[t]={nextPos:Xt,result:e},e}function y(){var t="__@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=[],n=i();for(null===n&&(n=s(),null===n&&(n=a(),n=null!==n?n:null));null!==n;)e.push(n),n=i(),null===n&&(n=s(),null===n&&(n=a(),n=null!==n?n:null));return Zt[t]={nextPos:Xt,result:e},e}function _(){var t="Statement@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=b();return null===n&&(n=A(),null===n&&(n=T(),null===n&&(n=q(),null===n&&(n=E(),null===n&&(n=k(),n=null!==n?n:null))))),(Gt=e)&&null===n&&u("Statement"),Zt[t]={nextPos:Xt,result:n},n}function b(){var t="AssignmentStatement@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=Xt,r=Xt,l=w();if(null!==l){var i=y();if(null!==i){var o=D(),o=null!==o?o:"";if(null!==o){var s=y();if(null!==s){var a=x();if(null!==a){var c=y();if(null!==c){var f=W();if(null!==f){var p=d();null!==p?l=[l,i,o,s,a,c,f,p]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?function(t,e,n,r){return{type:"AssignmentStatement",variable:t,accessor:e,operator:n,value:r,interpret:function(t){var n=this.value.interpret(t);if("="!=this.operator)var r=this.variable.interpret(t),n=zt(r,this.operator.substring(0,1),n);if(""!=this.accessor){var u=e.interpret(t),r=this.variable.interpret(t),u=$t(u,r);t.variables[this.variable.identifier][u]=n}else t.variables[this.variable.identifier]=n},accept:function(t){t.visitAssignmentStatement(this)}}}(l[0],l[2],l[4],l[6]):null,null===r&&(r=null,Xt=n),(Gt=e)&&null===r&&u("Assignment Statement"),Zt[t]={nextPos:Xt,result:r},r}function x(){var e="AssignmentOperator@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt;if("="===t.substr(Xt,1)){var i="=";Xt+=1}else i=null,Gt&&u('"="');if(null!==i){var o=Xt,s=Gt;if(Gt=!1,"="===t.substr(Xt,1)){var a="=";Xt+=1}else a=null,Gt&&u('"="');Gt=s,null===a?s="":(s=null,Xt=o),null!==s?i=[i,s]:(i=null,Xt=l)}else i=null,Xt=l;return l=null!==i?"=":null,null===l&&(l=null,Xt=r),null!==l?r=l:("*="===t.substr(Xt,2)?(r="*=",Xt+=2):(r=null,Gt&&u('"*="')),null===r&&("/="===t.substr(Xt,2)?(r="/=",Xt+=2):(r=null,Gt&&u('"/="')),null===r&&("%="===t.substr(Xt,2)?(r="%=",Xt+=2):(r=null,Gt&&u('"%="')),null===r&&("+="===t.substr(Xt,2)?(r="+=",Xt+=2):(r=null,Gt&&u('"+="')),null===r&&("-="===t.substr(Xt,2)?(r="-=",Xt+=2):(r=null,Gt&&u('"-="')),r=null!==r?r:null))))),(Gt=n)&&null===r&&u("Assignment Operator"),Zt[e]={nextPos:Xt,result:r},r}function w(){var e="VariableExpression@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,l=h();if(null!==l){if(null!==t.substr(Xt).match(/^[a-zA-Z0-9_]/)){var i=t.charAt(Xt);Xt++}else i=null,Gt&&u("[a-zA-Z0-9_]");if(null!==i)for(var o=[];null!==i;)o.push(i),null!==t.substr(Xt).match(/^[a-zA-Z0-9_]/)?(i=t.charAt(Xt),Xt++):(i=null,Gt&&u("[a-zA-Z0-9_]"));else o=null;null!==o?l=[l,o]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?function(t,e){return{type:"VariableExpression",identifier:t+e.join(""),interpret:function(t){if(!(this.identifier in t.variables))throw new t.InterpreterError("Variable "+this.identifier+" not defined.");return t.variables[this.identifier]},accept:function(t){return t.visitVariableExpression(this)}}}(l[0],l[1]):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function S(){var e="VariableExpressionList@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,l=w();if(null!==l){var i=[],o=Xt,s=y();if(null!==s){if(","===t.substr(Xt,1)){var a=",";Xt+=1}else a=null,Gt&&u('","');if(null!==a){var c=y();if(null!==c){var f=w();null!==f?s=[s,a,c,f]:(s=null,Xt=o)}else s=null,Xt=o}else s=null,Xt=o}else s=null,Xt=o;for(;null!==s;)i.push(s),o=Xt,s=y(),null!==s?(","===t.substr(Xt,1)?(a=",",Xt+=1):(a=null,Gt&&u('","')),null!==a?(c=y(),null!==c?(f=w(),null!==f?s=[s,a,c,f]:(s=null,Xt=o)):(s=null,Xt=o)):(s=null,Xt=o)):(s=null,Xt=o);null!==i?l=[l,i]:(l=null,Xt=r)}else l=null,Xt=r;if(null!==l){for(r=l[1],l=[l[0]],i=0;i<r.length;i++)l.push(r[i][3]);r=l}else r=null;return null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function E(){var t="StatementExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=N(),n=null!==n?function(t){return{type:"StatementExpression",expr:t,interpret:function(t){this.expr.interpret(t)},accept:function(t){return t.visitStatementExpression(this)}}}(n):null;return null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function P(){var e="Block@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt;if("{"===t.substr(Xt,1)){var i="{";Xt+=1}else i=null,Gt&&u('"{"');if(null!==i){var o=y();if(null!==o){var s=Xt,a=C();if(null!==a){var c=y();null!==c?a=[a,c]:(a=null,Xt=s)}else a=null,Xt=s;s=null!==a?a:"",null!==s?("}"===t.substr(Xt,1)?(a="}",Xt+=1):(a=null,Gt&&u('"}"')),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l;return l=null!==i?function(t){return{type:"Block",statements:""!==t?t[0]:[],interpret:function(t){for(var e=this.statements.length-1;e>=0;e--)t.stmt_stack.push(this.statements[e])},accept:function(t){t.visitBlock(this)}}}(i[2]):null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("Block"),Zt[e]={nextPos:Xt,result:l},l}function C(){var t="StatementList@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=_();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=_();null!==o?i=[i,o]:(i=null,Xt=l)}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=_(),null!==o?i=[i,o]:(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;if(null!==r){for(n=r[1],r=[r[0]],u=0;u<n.length;u++)r.push(n[u][1]);n=r}else n=null;return null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function k(){var e="EmptyStatement@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt;if(";"===t.substr(Xt,1)){var l=";";Xt+=1}else l=null,Gt&&u('";"');return l=null!==l?function(){return{type:"EmptyStatement",interpret:function(t){},accept:function(t){t.visitEmptyStatement(this)}}}():null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("No-op Statement"),Zt[e]={nextPos:Xt,result:l},l}function A(){var e="ForInStatement@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt,i=Lt();if(null!==i){var o=y();if(null!==o){if("("===t.substr(Xt,1)){var s="(";Xt+=1}else s=null,Gt&&u('"("');if(null!==s){var a=y();if(null!==a){var c=w();if(null!==c){var f=y();if(null!==f){var p=Ot();if(null!==p){var h=y();if(null!==h){var v=O();if(null===v&&(v=w(),v=null!==v?v:null),null!==v){var d=y();if(null!==d){if(")"===t.substr(Xt,1)){var g=")";Xt+=1}else g=null,Gt&&u('")"');if(null!==g){var m=y();if(null!==m){var b=_();null===b&&(b=P(),b=null!==b?b:null),null!==b?i=[i,o,s,a,c,f,p,h,v,d,g,m,b]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;return l=null!==i?function(t,e,n){return{type:"ForInStatement",iterator:t,collection:e,statement:n,interpret:function(t){function e(){this.type="LoopClosure"}var n=this.collection.interpret(t),r=this.statement;if(!n.hasOwnProperty("length"))throw new t.InterpreterError("ForIn Loop only on Arrays or Strings.");var u=0,l=this.iterator.identifier;e.prototype.interpret=function(t){u<n.length&&(t.variables[l]=n[u],u+=1,t.stmt_stack.push(this),t.stmt_stack.push(r))},t.stmt_stack.push(new e)},accept:function(t){t.visitForInStatement(this)}}}(i[4],i[8],i[12]):null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("For-In Loop"),Zt[e]={nextPos:Xt,result:l},l}function T(){var e="IfStatement@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt,i=Rt();if(null!==i){var o=y();if(null!==o){if("("===t.substr(Xt,1)){var s="(";Xt+=1}else s=null,Gt&&u('"("');if(null!==s){var a=y();if(null!==a){var c=W();if(null!==c){var f=y();if(null!==f){if(")"===t.substr(Xt,1)){var p=")";Xt+=1}else p=null,Gt&&u('")"');if(null!==p){var h=y();if(null!==h){var v=_();if(null===v&&(v=P(),v=null!==v?v:null),null!==v){var d=y();if(null!==d){var g=Xt,m=Tt();if(null!==m){var b=y();if(null!==b){var x=_();null===x&&(x=P(),x=null!==x?x:null),null!==x?m=[m,b,x]:(m=null,Xt=g)}else m=null,Xt=g}else m=null,Xt=g;g=null!==m?m:"",null!==g?i=[i,o,s,a,c,f,p,h,v,d,g]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;return l=null!==i?function(t,e,n){return{type:"IfStatement",condition:t,if_statement:e,else_statement:n[2],interpret:function(t){this.condition.interpret(t)?t.stmt_stack.push(this.if_statement):this.else_statement&&t.stmt_stack.push(this.else_statement);
},accept:function(t){t.visitIfStatement(this)}}}(i[4],i[8],i[10]):null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("If Statement"),Zt[e]={nextPos:Xt,result:l},l}function q(){var t="RequireStatement@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=Xt,r=Xt,l=jt();if(null!==l){var i=y();if(null!==i){var o=S();if(null!==o){var s=d();null!==s?l=[l,i,o,s]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?function(t){return{type:"RequireStatement",vars:t,interpret:function(t){for(var e=0;e<this.vars.length;e++){var n=this.vars[e].identifier;if(!this.vars[e].interpret(t)){for(t.error_callback.call(this,new t.RequireError("Variable "+n+" required."));0<t.stmt_stack.length;)t.stmt_stack.pop();t.ret=void 0;break}}},accept:function(t){t.visitRequireStatement(this)}}}(l[2]):null,null===r&&(r=null,Xt=n),(Gt=e)&&null===r&&u("Require Statement"),Zt[t]={nextPos:Xt,result:r},r}function L(){var t="ReturnStatement@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=Xt,r=Xt,l=It();if(null!==l){var i=y();if(null!==i){var o=S();if(null!==o){var s=d();null!==s?l=[l,i,o,s]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?function(t){return{type:"ReturnStatement",vars:t,interpret:function(t){for(var e=!1,n={},r=this.vars.length-1;r>=0;)n[this.vars[r].identifier]=!0,r-=1;for(void 0===t.ret&&(t.ret={}),r=this.vars.length-1;r>=0;){var u=this.vars[r],l=u.interpret(t),u=u.identifier.substring(1);u in t.ret&&Jt(t.ret[u],l)||(e=!0,t.ret[u]=l),r-=1}var i,r=0;for(i in t.ret)r+=1;l=0;for(i in n)l+=1;l!=r&&(e=!0),e&&t.return_callback.call(t.return_callback,t.ret)},accept:function(t){t.visitReturnStatement(this)}}}(l[2]):null,null===r&&(r=null,Xt=n),(Gt=e)&&null===r&&u("Return Statement"),Zt[t]={nextPos:Xt,result:r},r}function O(){var e="Expression@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=N(),null===n&&(n=w(),null===n&&(n=K(),null===n))){var r=n=Xt;if("("===t.substr(Xt,1)){var l="(";Xt+=1}else l=null,Gt&&u('"("');if(null!==l){var i=y();if(null!==i){var o=W();if(null!==o){var s=y();if(null!==s){if(")"===t.substr(Xt,1)){var a=")";Xt+=1}else a=null,Gt&&u('")"');null!==a?l=[l,i,o,s,a]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;r=null!==l?l[2]:null,null===r&&(r=null,Xt=n),n=null!==r?r:null}return Zt[e]={nextPos:Xt,result:n},n}function R(){var e="FunctionName@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Xt,null!==t.substr(Xt).match(/^[a-zA-Z_]/)){var r=t.charAt(Xt);Xt++}else r=null,Gt&&u("[a-zA-Z_]");if(null!==r)for(var l=[];null!==r;)l.push(r),null!==t.substr(Xt).match(/^[a-zA-Z_]/)?(r=t.charAt(Xt),Xt++):(r=null,Gt&&u("[a-zA-Z_]"));else l=null;return r=null!==l?l.join(""):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function N(){var e="CallExpression@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,l=R();if(null!==l){var i=y();if(null!==i){if("("===t.substr(Xt,1)){var o="(";Xt+=1}else o=null,Gt&&u('"("');if(null!==o){var s=y();if(null!==s){var a=I(),a=null!==a?a:"";if(null!==a){var c=y();if(null!==c){if(")"===t.substr(Xt,1)){var f=")";Xt+=1}else f=null,Gt&&u('")"');null!==f?l=[l,i,o,s,a,c,f]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?function(t,e){return{type:"CallExpression",func_name:t,arg_exprs:e,interpret:function(t){var e=[];""===this.arg_exprs&&(this.arg_exprs=[]);for(var n=0;n<this.arg_exprs.length;n++){var r=this.arg_exprs[n].interpret(t);e.push(r)}return(n=t.function_table[this.func_name])?n.apply(t,e):void 0},accept:function(t){return t.visitCallExpression(this)}}}(l[0],l[4]):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function I(){var e="ExpressionList@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,l=O();if(null!==l){var i=[],o=Xt,s=y();if(null!==s){if(","===t.substr(Xt,1)){var a=",";Xt+=1}else a=null,Gt&&u('","');if(null!==a){var c=y();if(null!==c){var f=O();null!==f?s=[s,a,c,f]:(s=null,Xt=o)}else s=null,Xt=o}else s=null,Xt=o}else s=null,Xt=o;for(;null!==s;)i.push(s),o=Xt,s=y(),null!==s?(","===t.substr(Xt,1)?(a=",",Xt+=1):(a=null,Gt&&u('","')),null!==a?(c=y(),null!==c?(f=O(),null!==f?s=[s,a,c,f]:(s=null,Xt=o)):(s=null,Xt=o)):(s=null,Xt=o)):(s=null,Xt=o);null!==i?l=[l,i]:(l=null,Xt=r)}else l=null,Xt=r;if(null!==l){for(r=l[1],l=[l[0]],i=0;i<r.length;i++)l.push(r[i][3]);r=l}else r=null;return null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function D(){var e="Accessor@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("["===t.substr(Xt,1)){var l="[";Xt+=1}else l=null,Gt&&u('"["');if(null!==l){var i=y();if(null!==i){var o=W();if(null!==o){var s=y();if(null!==s){if("]"===t.substr(Xt,1)){var a="]";Xt+=1}else a=null,Gt&&u('"]"');null!==a?l=[l,i,o,s,a]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?l[2]:null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function j(){var t="AccessorExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=O();if(null!==r){var u=y();if(null!==u){var l=D();null!==l?r=[r,u,l]:(r=null,Xt=n)}else r=null,Xt=n}else r=null,Xt=n;return n=null!==r?function(t,e){return{type:"AccessorExpression",value:t,index:e,interpret:function(t){var e=this.value.interpret(t);return t=this.index.interpret(t),t=$t(t,e),e[t]},accept:function(t){return t.visitAccessorExpression(this)}}}(r[0],r[2]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function M(){var t="UnaryExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;if(e=j(),null===e&&(e=O(),null===e)){var n=e=Xt,r=F();if(null!==r){var u=y();if(null!==u){var l=O();null!==l?r=[r,u,l]:(r=null,Xt=n)}else r=null,Xt=n}else r=null,Xt=n;n=null!==r?function(t,e){return{type:"UnaryExpression",operator:t,expression:e,interpret:function(t){return t=this.expression.interpret(t),Ht(this.operator,t)},accept:function(t){return t.visitUnaryExpression(this)}}}(r[0],r[2]):null,null===n&&(n=null,Xt=e),e=null!==n?n:null}return Zt[t]={nextPos:Xt,result:e},e}function F(){var e="UnaryOperator@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("+"===t.substr(Xt,1)?(n="+",Xt+=1):(n=null,Gt&&u('"+"')),null===n&&("-"===t.substr(Xt,1)?(n="-",Xt+=1):(n=null,Gt&&u('"-"')),null===n&&("~"===t.substr(Xt,1)?(n="~",Xt+=1):(n=null,Gt&&u('"~"')),null===n&&("not"===t.substr(Xt,3)?(n="not",Xt+=3):(n=null,Gt&&u('"not"')),n=null!==n?n:null))),Zt[e]={nextPos:Xt,result:n},n)}function B(){var t="MultiplicativeExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=M();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=U();if(null!==o){var s=y();if(null!==s){var a=M();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=U(),null!==o?(s=y(),null!==s?(a=M(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"MultiplicativeExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){var e=this.left.interpret(t);return t=this.right.interpret(t),zt(e,this.operator,t)},accept:function(t){return t.visitMultiplicativeExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function U(){var e="MultiplicativeOperator@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("*"===t.substr(Xt,1)){var l="*";Xt+=1}else l=null,Gt&&u('"*"');if(null===l&&("/"===t.substr(Xt,1)?(l="/",Xt+=1):(l=null,Gt&&u('"/"')),null===l&&("%"===t.substr(Xt,1)?(l="%",Xt+=1):(l=null,Gt&&u('"%"')),l=null!==l?l:null)),null!==l){var i=Xt,o=Gt;if(Gt=!1,"="===t.substr(Xt,1)){var s="=";Xt+=1}else s=null,Gt&&u('"="');Gt=o,null===s?o="":(o=null,Xt=i),null!==o?l=[l,o]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?l[0]:null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function z(){var t="AdditiveExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=B();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=H();if(null!==o){var s=y();if(null!==s){var a=B();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=H(),null!==o?(s=y(),null!==s?(a=B(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"AdditiveExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){var e=this.left.interpret(t);return t=this.right.interpret(t),zt(e,this.operator,t)},accept:function(t){return t.visitAdditiveExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function H(){var e="AdditiveOperator@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("+"===t.substr(Xt,1)){var l="+";Xt+=1}else l=null,Gt&&u('"+"');if(null!==l){var i=Xt,o=Gt;if(Gt=!1,"+"===t.substr(Xt,1)){var s="+";Xt+=1}else s=null,Gt&&u('"+"');null===s&&("="===t.substr(Xt,1)?(s="=",Xt+=1):(s=null,Gt&&u('"="')),s=null!==s?s:null),Gt=o,null===s?o="":(o=null,Xt=i),null!==o?l=[l,o]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?"+":null,null===r&&(r=null,Xt=n),null!==r?n=r:(r=n=Xt,"-"===t.substr(Xt,1)?(l="-",Xt+=1):(l=null,Gt&&u('"-"')),null!==l?(i=Xt,o=Gt,Gt=!1,"-"===t.substr(Xt,1)?(s="-",Xt+=1):(s=null,Gt&&u('"-"')),null===s&&("="===t.substr(Xt,1)?(s="=",Xt+=1):(s=null,Gt&&u('"="')),s=null!==s?s:null),Gt=o,null===s?o="":(o=null,Xt=i),null!==o?l=[l,o]:(l=null,Xt=r)):(l=null,Xt=r),r=null!==l?"-":null,null===r&&(r=null,Xt=n),n=null!==r?r:null),Zt[e]={nextPos:Xt,result:n},n}function J(){var t="RelationalExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=z();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=$();if(null!==o){var s=y();if(null!==s){var a=z();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=$(),null!==o?(s=y(),null!==s?(a=z(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"RelationalExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){var e=this.left.interpret(t);return t=this.right.interpret(t),zt(e,this.operator,t)},accept:function(t){return t.visitRelationalExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function $(){var e="RelationalOperator@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("<="===t.substr(Xt,2)?(n="<=",Xt+=2):(n=null,Gt&&u('"<="')),null===n&&(">="===t.substr(Xt,2)?(n=">=",Xt+=2):(n=null,Gt&&u('">="')),null===n&&("<"===t.substr(Xt,1)?(n="<",Xt+=1):(n=null,Gt&&u('"<"')),null===n&&(">"===t.substr(Xt,1)?(n=">",Xt+=1):(n=null,Gt&&u('">"')),n=null!==n?n:null))),Zt[e]={nextPos:Xt,result:n},n)}function V(){var t="EqualsExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=J();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=X();if(null!==o){var s=y();if(null!==s){var a=J();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=X(),null!==o?(s=y(),null!==s?(a=J(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"EqualsExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){var e=this.left.interpret(t);return t=this.right.interpret(t),e==t},accept:function(t){return t.visitEqualsExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function X(){var e="EqualsToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("=="===t.substr(Xt,2)?(n="==",Xt+=2):(n=null,Gt&&u('"=="')),Zt[e]={nextPos:Xt,result:n},n)}function G(){var t="LogicalANDExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=V();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=kt();if(null!==o){var s=y();if(null!==s){var a=V();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=kt(),null!==o?(s=y(),null!==s?(a=V(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"LogicalANDExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){return this.left.interpret(t)?this.right.interpret(t):!1},accept:function(t){return t.visitLogicalANDExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function W(){var t="LogicalORExpression@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=G();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=At();if(null!==o){var s=y();if(null!==s){var a=G();null!==a?i=[i,o,s,a]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=At(),null!==o?(s=y(),null!==s?(a=G(),null!==a?i=[i,o,s,a]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l);null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?function(t,e){for(var n=t,r=0;r<e.length;r++)n={type:"LogicalORExpression",operator:e[r][1],left:n,right:e[r][3],interpret:function(t){var e=this.left.interpret(t);return e?e:this.right.interpret(t)},accept:function(t){return t.visitLogicalORExpression(this)}};return n}(r[0],r[1]):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function K(){var t="Literal@"+Xt,e=Zt[t];return e?(Xt=e.nextPos,e.result):(e=Q(),null===e&&(e=tt(),null===e&&(e=et(),null===e&&(e=pt(),null===e&&(e=Y(),null===e&&(e=Z(),e=null!==e?e:null))))),Zt[t]={nextPos:Xt,result:e},e)}function Z(){var e="ArrayLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("["===t.substr(Xt,1)){var l="[";Xt+=1}else l=null,Gt&&u('"["');if(null!==l){var i=y();if(null!==i){var o=I(),o=null!==o?o:"";if(null!==o){var s=y();if(null!==s){if("]"===t.substr(Xt,1)){var a="]";Xt+=1}else a=null,Gt&&u('"]"');null!==a?l=[l,i,o,s,a]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?function(t){return{type:"ArrayLiteral",elements:""!==t?t:[],interpret:function(t){for(var e=[],n=0;n<this.elements.length;n++)e.push(this.elements[n].interpret(t));return e},accept:function(t){return t.visitArrayLiteral(this)}}}(l[2]):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function Y(){var e="RegularExpressionLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt;if("/"===t.substr(Xt,1)){var i="/";Xt+=1}else i=null,Gt&&u('"/"');if(null!==i){var o=dt();if(null!==o){if("/"===t.substr(Xt,1)){var s="/";Xt+=1}else s=null,Gt&&u('"/"');null!==s?i=[i,o,s]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l;return l=null!==i?function(t){return{type:"RegexLiteral",value:t,interpret:function(t){return this.value},accept:function(t){return t.visitRegularExpressionLiteral(this)}}}(i[1]):null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("regex"),Zt[e]={nextPos:Xt,result:l},l}function Q(){var t="NullLiteral@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=null!==Nt()?function(){return{type:"NullLiteral",value:null,interpret:function(t){return this.value},accept:function(t){return t.visitNullLiteral(this)}}}():null;return null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function tt(){var t="BooleanLiteral@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=null!==Dt()?function(){return{type:"BooleanLiteral",value:!0,interpret:function(t){return this.value},accept:function(t){return t.visitBooleanLiteral(this)}}}():null;return null===n&&(n=null,Xt=e),null!==n?e=n:(e=Xt,n=null!==qt()?function(){return{type:"BooleanLiteral",value:!1,interpret:function(t){return this.value},accept:function(t){return t.visitBooleanLiteral(this)}}}():null,null===n&&(n=null,Xt=e),e=null!==n?n:null),Zt[t]={nextPos:Xt,result:e},e}function et(){var t="NumericLiteral@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;e=Gt,Gt=!1;var n=Xt,r=Xt,l=ct();if(null===l&&(l=nt(),l=null!==l?l:null),null!==l){var i=Xt,o=Gt;Gt=!1;var s=h();Gt=o,null===s?o="":(o=null,Xt=i),null!==o?l=[l,o]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?function(t){return{type:"NumericLiteral",value:t,interpret:function(t){return this.value},accept:function(t){return t.visitNumericLiteral(this)}}}(l[0]):null,null===r&&(r=null,Xt=n),(Gt=e)&&null===r&&u("number"),Zt[t]={nextPos:Xt,result:r},r}function nt(){var e="DecimalLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,l=rt();if(null!==l){if("."===t.substr(Xt,1)){var i=".";Xt+=1}else i=null,Gt&&u('"."');if(null!==i){var o=ut(),o=null!==o?o:"";if(null!==o){var s=ot(),s=null!==s?s:"";null!==s?l=[l,i,o,s]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?parseFloat(l[0]+"."+l[2]+l[3]):null,null===r&&(r=null,Xt=n),null!==r?n=r:(r=n=Xt,"."===t.substr(Xt,1)?(l=".",Xt+=1):(l=null,Gt&&u('"."')),null!==l?(i=ut(),null!==i?(o=ot(),o=null!==o?o:"",null!==o?l=[l,i,o]:(l=null,Xt=r)):(l=null,Xt=r)):(l=null,Xt=r),r=null!==l?parseFloat("."+l[1]+l[2]):null,null===r&&(r=null,Xt=n),null!==r?n=r:(r=n=Xt,l=rt(),null!==l?(i=ot(),i=null!==i?i:"",null!==i?l=[l,i]:(l=null,Xt=r)):(l=null,Xt=r),r=null!==l?parseFloat(l[0]+l[1]):null,null===r&&(r=null,Xt=n),n=null!==r?r:null)),Zt[e]={nextPos:Xt,result:n},n}function rt(){var e="DecimalIntegerLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if("0"===t.substr(Xt,1)?(n="0",Xt+=1):(n=null,Gt&&u('"0"')),null===n){var r=n=Xt,l=it();if(null!==l){var i=ut(),i=null!==i?i:"";null!==i?l=[l,i]:(l=null,Xt=r)}else l=null,Xt=r;r=null!==l?l[0]+l[1]:null,null===r&&(r=null,Xt=n),n=null!==r?r:null}return Zt[e]={nextPos:Xt,result:n},n}function ut(){var t="DecimalDigits@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=lt();if(null!==n)for(var r=[];null!==n;)r.push(n),n=lt();else r=null;return n=null!==r?r.join(""):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function lt(){var e="DecimalDigit@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[0-9]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[0-9]")),Zt[e]={nextPos:Xt,result:n},n)}function it(){var e="NonZeroDigit@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[1-9]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[1-9]")),Zt[e]={nextPos:Xt,result:n},n)}function ot(){var t="ExponentPart@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=st();if(null!==r){var u=at();null!==u?r=[r,u]:(r=null,Xt=n)}else r=null,Xt=n;return n=null!==r?r[0]+r[1]:null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function st(){var e="ExponentIndicator@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[eE]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[eE]")),Zt[e]={nextPos:Xt,result:n},n)}function at(){var e="SignedInteger@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if(null!==t.substr(Xt).match(/^[\-+]/)){var l=t.charAt(Xt);Xt++}else l=null,Gt&&u("[\\-+]");if(l=null!==l?l:"",null!==l){var i=ut();null!==i?l=[l,i]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?l[0]+l[1]:null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function ct(){var e="HexIntegerLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("0"===t.substr(Xt,1)){var l="0";Xt+=1}else l=null,Gt&&u('"0"');if(null!==l){if(null!==t.substr(Xt).match(/^[xX]/)){var i=t.charAt(Xt);Xt++}else i=null,Gt&&u("[xX]");if(null!==i){var o=ft();if(null!==o)for(var s=[];null!==o;)s.push(o),o=ft();else s=null;null!==s?l=[l,i,s]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?parseInt("0x"+dgits.join("")):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function ft(){var e="HexDigit@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(null!==t.substr(Xt).match(/^[0-9a-fA-F]/)?(n=t.charAt(Xt),Xt++):(n=null,Gt&&u("[0-9a-fA-F]")),Zt[e]={nextPos:Xt,result:n},n)}function pt(){var e="StringLiteral@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;n=Gt,Gt=!1;var r=Xt,l=Xt;if('"'===t.substr(Xt,1)){var i='"';Xt+=1}else i=null,Gt&&u('"\\""');if(null!==i){var o=ht(),o=null!==o?o:"";if(null!==o){if('"'===t.substr(Xt,1)){var s='"';Xt+=1}else s=null,Gt&&u('"\\""');null!==s?i=[i,o,s]:(i=null,Xt=l)}else i=null,Xt=l}else i=null,Xt=l;return null!==i?l=i:(l=Xt,"'"===t.substr(Xt,1)?(i="'",Xt+=1):(i=null,Gt&&u('"\'"')),null!==i?(o=vt(),o=null!==o?o:"",null!==o?("'"===t.substr(Xt,1)?(s="'",Xt+=1):(s=null,Gt&&u('"\'"')),null!==s?i=[i,o,s]:(i=null,Xt=l)):(i=null,Xt=l)):(i=null,Xt=l),l=null!==i?i:null),l=null!==l?function(t){return{type:"StringLiteral",value:t[1],quote:t[0],interpret:function(t){return this.value},accept:function(t){return t.visitStringLiteral(this)}}}(l):null,null===l&&(l=null,Xt=r),(Gt=n)&&null===l&&u("string"),Zt[e]={nextPos:Xt,result:l},l}function ht(){var t="DoubleStringCharacters@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=gt();if(null!==n)for(var r=[];null!==n;)r.push(n),n=gt();else r=null;return n=null!==r?r.join(""):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function vt(){var t="SingleStringCharacters@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=mt();if(null!==n)for(var r=[];null!==n;)r.push(n),n=mt();else r=null;return n=null!==r?r.join(""):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function dt(){var t="RegularExpressionLiteralCharacters@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=yt();if(null!==n)for(var r=[];null!==n;)r.push(n),n=yt();else r=null;return n=null!==r?r.join(""):null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function gt(){var e="DoubleStringCharacter@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,i=Xt,s=Gt;if(Gt=!1,'"'===t.substr(Xt,1)){var a='"';Xt+=1}else a=null,Gt&&u('"\\""');return null===a&&("\\"===t.substr(Xt,1)?(a="\\",Xt+=1):(a=null,Gt&&u('"\\\\"')),null===a&&(a=o(),a=null!==a?a:null)),Gt=s,null===a?s="":(s=null,Xt=i),null!==s?(i=l(),null!==i?i=[s,i]:(i=null,Xt=r)):(i=null,Xt=r),r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r?n=r:(r=n=Xt,"\\"===t.substr(Xt,1)?(i="\\",Xt+=1):(i=null,Gt&&u('"\\\\"')),null!==i?(s=bt(),null!==s?i=[i,s]:(i=null,Xt=r)):(i=null,Xt=r),r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r?n=r:(n=_t(),n=null!==n?n:null)),Zt[e]={nextPos:Xt,result:n},n}function mt(){var e="SingleStringCharacter@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt,i=Xt,s=Gt;if(Gt=!1,"'"===t.substr(Xt,1)){var a="'";Xt+=1}else a=null,Gt&&u('"\'"');return null===a&&("\\"===t.substr(Xt,1)?(a="\\",Xt+=1):(a=null,Gt&&u('"\\\\"')),null===a&&(a=o(),a=null!==a?a:null)),Gt=s,null===a?s="":(s=null,Xt=i),null!==s?(i=l(),null!==i?i=[s,i]:(i=null,Xt=r)):(i=null,Xt=r),r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r?n=r:(r=n=Xt,"\\"===t.substr(Xt,1)?(i="\\",Xt+=1):(i=null,Gt&&u('"\\\\"')),null!==i?(s=bt(),null!==s?i=[i,s]:(i=null,Xt=r)):(i=null,Xt=r),r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r?n=r:(n=_t(),n=null!==n?n:null)),Zt[e]={nextPos:Xt,result:n},n}function yt(){var e="RegularExpressionLiteralCharacter@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("\\"===t.substr(Xt,1)){var i="\\";Xt+=1}else i=null,Gt&&u('"\\\\"');if(null!==i){if("/"===t.substr(Xt,1)){var s="/";Xt+=1}else s=null,Gt&&u('"/"');null!==s?i=[i,s]:(i=null,Xt=r)}else i=null,Xt=r;if(r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r)n=r;else{if(i=r=n=Xt,s=Gt,Gt=!1,"/"===t.substr(Xt,1)){var a="/";Xt+=1}else a=null,Gt&&u('"/"');null===a&&(a=o(),a=null!==a?a:null),Gt=s,null===a?s="":(s=null,Xt=i),null!==s?(i=l(),null!==i?i=[s,i]:(i=null,Xt=r)):(i=null,Xt=r),r=null!==i?i[1]:null,null===r&&(r=null,Xt=n),null!==r?n=r:(n=_t(),n=null!==n?n:null)}return Zt[e]={nextPos:Xt,result:n},n}function _t(){var e="LineContinuation@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("\\"===t.substr(Xt,1)){var l="\\";Xt+=1}else l=null,Gt&&u('"\\\\"');if(null!==l){var i=s();null!==i?l=[l,i]:(l=null,Xt=r)}else l=null,Xt=r;return r=null!==l?l[1]:null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function bt(){var e="EscapeSequence@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=xt(),null===n){var r=n=Xt;if("0"===t.substr(Xt,1)){var l="0";Xt+=1}else l=null,Gt&&u('"0"');if(null!==l){var i=Xt,o=Gt;Gt=!1;var s=lt();Gt=o,null===s?o="":(o=null,Xt=i),null!==o?l=[l,o]:(l=null,Xt=r)}else l=null,Xt=r;r=null!==l?"\x00":null,null===r&&(r=null,Xt=n),null!==r?n=r:(n=Pt(),null===n&&(n=Ct(),n=null!==n?n:null))}return Zt[e]={nextPos:Xt,result:n},n}function xt(){var t="CharacterEscapeSequence@"+Xt,e=Zt[t];return e?(Xt=e.nextPos,e.result):(e=wt(),null===e&&(e=St(),e=null!==e?e:null),Zt[t]={nextPos:Xt,result:e},e)}function wt(){var e="SingleEscapeCharacter@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;if(n=Xt,null!==t.substr(Xt).match(/^['"\\bfnrtv]/)){var r=t.charAt(Xt);Xt++}else r=null,Gt&&u("['\"\\\\bfnrtv]");return r=null!==r?r.replace("b","\b").replace("f","\f").replace("n","\n").replace("r","\r").replace("t","	").replace("v","\x0B"):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function St(){var t="NonEscapeCharacter@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=Xt,u=Gt;Gt=!1;var i=Et();return Gt=u,null===i?u="":(u=null,Xt=r),null!==u?r=u:(r=o(),r=null!==r?r:null),null!==r?(u=l(),null!==u?r=[r,u]:(r=null,Xt=n)):(r=null,Xt=n),n=null!==r?r[1]:null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function Et(){var e="EscapeCharacter@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):(n=wt(),null===n&&(n=lt(),null===n&&("x"===t.substr(Xt,1)?(n="x",Xt+=1):(n=null,Gt&&u('"x"')),null===n&&("u"===t.substr(Xt,1)?(n="u",Xt+=1):(n=null,Gt&&u('"u"')),n=null!==n?n:null))),Zt[e]={nextPos:Xt,result:n},n)}function Pt(){var e="HexEscapeSequence@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("x"===t.substr(Xt,1)){var l="x";Xt+=1}else l=null,Gt&&u('"x"');if(null!==l){var i=ft();if(null!==i){var o=ft();null!==o?l=[l,i,o]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?String.fromCharCode(parseInt("0x"+l[1]+l[2])):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function Ct(){var e="UnicodeEscapeSequence@"+Xt,n=Zt[e];if(n)return Xt=n.nextPos,n.result;var r=n=Xt;if("u"===t.substr(Xt,1)){var l="u";Xt+=1}else l=null,Gt&&u('"u"');if(null!==l){var i=ft();if(null!==i){var o=ft();if(null!==o){var s=ft();if(null!==s){var a=ft();null!==a?l=[l,i,o,s,a]:(l=null,Xt=r)}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r}else l=null,Xt=r;return r=null!==l?String.fromCharCode(parseInt("0x"+l[1]+l[2]+l[3]+l[4])):null,null===r&&(r=null,Xt=n),Zt[e]={nextPos:Xt,result:r},r}function kt(){var e="AndToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("and"===t.substr(Xt,3)?(n="and",Xt+=3):(n=null,Gt&&u('"and"')),Zt[e]={nextPos:Xt,result:n},n)}function At(){var e="OrToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("or"===t.substr(Xt,2)?(n="or",Xt+=2):(n=null,Gt&&u('"or"')),Zt[e]={nextPos:Xt,result:n},n)}function Tt(){var e="ElseToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("else"===t.substr(Xt,4)?(n="else",Xt+=4):(n=null,Gt&&u('"else"')),Zt[e]={nextPos:Xt,result:n},n)}function qt(){var e="FalseToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("false"===t.substr(Xt,5)?(n="false",Xt+=5):(n=null,Gt&&u('"false"')),Zt[e]={nextPos:Xt,result:n},n)}function Lt(){var e="ForToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("for"===t.substr(Xt,3)?(n="for",Xt+=3):(n=null,Gt&&u('"for"')),Zt[e]={nextPos:Xt,result:n},n)}function Ot(){var e="InToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("in"===t.substr(Xt,2)?(n="in",Xt+=2):(n=null,Gt&&u('"in"')),Zt[e]={nextPos:Xt,result:n},n)}function Rt(){var e="IfToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("if"===t.substr(Xt,2)?(n="if",Xt+=2):(n=null,Gt&&u('"if"')),Zt[e]={nextPos:Xt,result:n},n)}function Nt(){var e="NullToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("null"===t.substr(Xt,4)?(n="null",Xt+=4):(n=null,Gt&&u('"null"')),Zt[e]={nextPos:Xt,result:n},n)}function It(){var e="ReturnToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("return"===t.substr(Xt,6)?(n="return",Xt+=6):(n=null,Gt&&u('"return"')),Zt[e]={nextPos:Xt,result:n},n)}function Dt(){var e="TrueToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("true"===t.substr(Xt,4)?(n="true",Xt+=4):(n=null,Gt&&u('"true"')),Zt[e]={nextPos:Xt,result:n},n)}function jt(){var e="RequireToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("require"===t.substr(Xt,7)?(n="require",Xt+=7):(n=null,Gt&&u('"require"')),Zt[e]={nextPos:Xt,result:n},n)}function Mt(){var t="Program@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var e=Xt,n=Ft(),n=null!==n?n:"",n=null!==n?function(t){return{type:"Program",statements:""!==t?t:[],interpret:function(t){for(var e=this.statements.length-1;e>=0;e--)t.stmt_stack.push(this.statements[e]);t.interpretNext()},accept:function(t){t.visitProgram(this)}}}(n):null;return null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function Ft(){var t="Statements@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=_();if(null!==r){var u=[],l=Xt,i=y();if(null!==i){var o=_();null!==o?i=[i,o]:(i=null,Xt=l)}else i=null,Xt=l;for(;null!==i;)u.push(i),l=Xt,i=y(),null!==i?(o=_(),null!==o?i=[i,o]:(i=null,Xt=l)):(i=null,Xt=l);null!==u?(l=y(),null!==l?(i=L(),null!==i?u=[r,u,l,i]:(u=null,Xt=n)):(u=null,Xt=n)):(u=null,Xt=n)}else u=null,Xt=n;if(null!==u){for(n=u[1],r=u[3],u=[u[0]],l=0;l<n.length;l++)u.push(n[l][1]);u.push(r),n=u}else n=null;return null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}function Bt(){var e;t:{e=Kt,e.sort();for(var n=null,u=[],l=0;l<e.length;l++)e[l]!==n&&(u.push(e[l]),n=e[l]);switch(u.length){case 0:e="end of input";break t;case 1:e=u[0];break t;default:e=u.slice(0,u.length-1).join(", ")+" or "+u[u.length-1]}}return n=Math.max(Xt,Wt),n=n<t.length?r(t.charAt(n)):"end of input","Expected "+e+" but "+n+" found."}function Ut(){for(var e=1,n=1,r=!1,u=0;Wt>u;u++){var l=t.charAt(u);"\n"===l?(r||e++,n=1,r=!1):"\r"===l|"\u2028"===l||"\u2029"===l?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}function zt(t,e,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"<":return n>t;case">":return t>n;case"<=":return n>=t;case">=":return t>=n;case"==":return t==n;case"!=":return t!=n}}function Ht(t,e){switch(t){case"+":return+e;case"-":return-e;case"~":return~e;case"not":return!e}}function Jt(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}return t==e}function $t(t,e){return void 0===e||void 0===t||(t=parseInt(t),isNaN(t))?void 0:(0>t&&e.hasOwnProperty("length")&&(t=e.length+t,0>t&&(t=0)),t)}var Vt={Accessor:D,AccessorExpression:j,AdditiveExpression:z,AdditiveOperator:H,AndToken:kt,ArrayLiteral:Z,AssignmentOperator:x,AssignmentStatement:b,Block:P,BooleanLiteral:tt,BreakToken:function(){var e="BreakToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("break"===t.substr(Xt,5)?(n="break",Xt+=5):(n=null,Gt&&u('"break"')),Zt[e]={nextPos:Xt,result:n},n)},CallExpression:N,CharacterEscapeSequence:xt,Comment:a,DecimalDigit:lt,DecimalDigits:ut,DecimalIntegerLiteral:rt,DecimalLiteral:nt,DoubleStringCharacter:gt,DoubleStringCharacters:ht,EOF:g,EOS:d,ElseToken:Tt,EmptyStatement:k,EqualsExpression:V,EqualsToken:X,EscapeCharacter:Et,EscapeSequence:bt,ExponentIndicator:st,ExponentPart:ot,Expression:O,ExpressionList:I,FalseToken:qt,ForInStatement:A,ForToken:Lt,FunctionName:R,HexDigit:ft,HexEscapeSequence:Pt,HexIntegerLiteral:ct,IdentifierStart:h,IfStatement:T,IfToken:Rt,InToken:Ot,LineContinuation:_t,LineTerminator:o,LineTerminatorSequence:s,Literal:K,LogicalANDExpression:G,LogicalORExpression:W,MultiLineComment:c,MultiLineCommentNoLineTerminator:f,
MultiplicativeExpression:B,MultiplicativeOperator:U,NonEscapeCharacter:St,NonZeroDigit:it,NotToken:function(){var e="NotToken@"+Xt,n=Zt[e];return n?(Xt=n.nextPos,n.result):("not"===t.substr(Xt,3)?(n="not",Xt+=3):(n=null,Gt&&u('"not"')),Zt[e]={nextPos:Xt,result:n},n)},NullLiteral:Q,NullToken:Nt,NumericLiteral:et,OrToken:At,Program:Mt,RegularExpressionLiteral:Y,RegularExpressionLiteralCharacter:yt,RegularExpressionLiteralCharacters:dt,RelationalExpression:J,RelationalOperator:$,RequireStatement:q,RequireToken:jt,ReturnStatement:L,ReturnToken:It,SignedInteger:at,SingleEscapeCharacter:wt,SingleLineComment:p,SingleStringCharacter:mt,SingleStringCharacters:vt,SourceCharacter:l,Statement:_,StatementExpression:E,StatementList:C,Statements:Ft,StringLiteral:pt,TrueToken:Dt,UnaryExpression:M,UnaryOperator:F,UnicodeEscapeSequence:Ct,VariableExpression:w,VariableExpressionList:S,WhiteSpace:i,Zs:v,_:m,__:y,start:function(){var t="start@"+Xt,e=Zt[t];if(e)return Xt=e.nextPos,e.result;var n=e=Xt,r=y();if(null!==r){var u=Mt();if(null!==u){var l=y();null!==l?r=[r,u,l]:(r=null,Xt=n)}else r=null,Xt=n}else r=null,Xt=n;return n=null!==r?r[1]:null,null===n&&(n=null,Xt=e),Zt[t]={nextPos:Xt,result:n},n}};if(void 0!==e){if(void 0===Vt[e])throw Error("Invalid rule name: "+r(e)+".")}else e="start";var Xt=0,Gt=!0,Wt=0,Kt=[],Zt={};this.VERSION="0.2.1";var Yt=Vt[e]();if(null===Yt||Xt!==t.length){var Qt=Ut();throw new this.SyntaxError(Bt(),Qt.line,Qt.column)}return Yt},toSource:function(){return this._source},SyntaxError:function(t,e,n){this.name="SyntaxError",this.message=t,this.line=e,this.column=n}};return t.SyntaxError.prototype=Error.prototype,t}(),com.ciuvo.grinder.Grinder.prototype={create_grinder:function(){},execute:function(t){com.ciuvo.sendRequest(t.tab_id,{action:"interpretCSL",csl_code:this.csl_code})}},com.ciuvo.CiuvoClient=function(){"undefined"!=typeof com.ciuvo.Sizzle&&(com.ciuvo.jQuery=com.ciuvo.Sizzle),com.ciuvo.log=function(t){},com.ciuvo.str=function(t){return t},com.ciuvo.set_status_text=function(){},com.ciuvo.set_status_icon=function(){},com.ciuvo.open_url=function(){};var t={run:function(t,e){"undefined"!=typeof e&&e()}},e=function(t){var e=this;com.ciuvo.load_settings=function(){return e.dispatch("loadSettings")},com.ciuvo.save_settings=function(t){return e.dispatch("saveSettings",t)},com.ciuvo.set_cookie=function(t){return e.dispatch("setCookie",t)},com.ciuvo.sendRequest=function(t,n){return e.sendRequest(t,n)};for(var n in t)this.bind(n,t[n])};return e.prototype={register:function(t){this.manager=new com.ciuvo.Manager,this.manager.register(t)},load:function(e,n,r){var u=this,l={url:n};this.doc=r,this.callbacks={},this.manager.check_whitelist_status(n,function(){u.manager.add_page(e,-1,l,function(t){u._runCallbacks(t)},function(t){u._runCallbacks(t),u.dispatch("finish")},t)},function(){u.dispatch("blacklisted")})},cancel:function(t){this.manager.remove_page(t)},_runCallbacks:function(t){for(var e in t.content.offers)for(var n=0,r=t.content.offers[e].length;r>n;n++){var u=t.content.offers[e][n];"undefined"==typeof this.callbacks[u.slug]&&(this.dispatch("content",u),this.callbacks[u.slug]=!0,u.notification&&this.dispatch("notification",u.notification))}},dispatch:function(t,e){return"function"==typeof this[t]?this[t](e):void 0},bind:function(t,e){return this[t]=e,this},sendRequest:function(t,e){this.onRequest(e,{tab:{id:t}})},onRequest:function(t,e){var n=e.tab&&e.tab.id?e.tab.id:void 0;switch(t.action){case"interpretCSL":if("undefined"==typeof t.csl_code)break;try{var r=this,u=com.ciuvo.csl.parser.parse(t.csl_code),l=new com.ciuvo.csl.Interpreter(r.doc||document,window,function(t){r.sendRequest(n,{action:"grinderResult",result:t}),l.close()},function(t){r.sendRequest(n,{action:"grinderResult",result:void 0}),l.close()});l.interpret(u)}catch(i){this.sendRequest(void 0,{action:"grinderResult",result:void 0})}break;case"load":this.load(n,t.url);break;case"grinderResult":this.manager.grinder_result(n,t.result)}}},e}(),"undefined"!=typeof exports&&(exports.com=com)}(window)},{}],4:[function(t,e,n){/*!
* screenfull
* v3.0.0 - 2015-11-24
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,u=n.length,l={};u>r;r++)if(t=n[r],t&&t[1]in document){for(r=0,e=t.length;e>r;r++)l[n[0][r]]=t[r];return l}return!1}(),u={request:function(t){var e=r.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:r};return r?(Object.defineProperties(u,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),void(t?e.exports=u:window.screenfull=u)):void(t?e.exports=!1:window.screenfull=!1)}()},{}],5:[function(t,e,n){
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function t(t){function e(e,n,r,u,l,i){for(;l>=0&&i>l;l+=t){var o=u?u[l]:l;r=n(r,e[o],o,e)}return r}return function(n,r,u,l){r=x(r,l,4);var i=!A(n)&&b.keys(n),o=(i||n).length,s=t>0?0:o-1;return arguments.length<3&&(u=n[i?i[s]:s],s+=t),e(n,r,u,i,s,o)}}function r(t){return function(e,n,r){n=w(n,r);for(var u=k(e),l=t>0?0:u-1;l>=0&&u>l;l+=t)if(n(e[l],l,e))return l;return-1}}function u(t,e,n){return function(r,u,l){var i=0,o=k(r);if("number"==typeof l)t>0?i=l>=0?l:Math.max(l+o,i):o=l>=0?Math.min(l+1,o):l+o+1;else if(n&&l&&o)return l=n(r,u),r[l]===u?l:-1;if(u!==u)return l=e(p.call(r,i,o),b.isNaN),l>=0?l+i:-1;for(l=t>0?i:o-1;l>=0&&o>l;l+=t)if(r[l]===u)return l;return-1}}function l(t,e){var n=R.length,r=t.constructor,u=b.isFunction(r)&&r.prototype||a,l="constructor";for(b.has(t,l)&&!b.contains(e,l)&&e.push(l);n--;)l=R[n],l in t&&t[l]!==u[l]&&!b.contains(e,l)&&e.push(l)}var i=this,o=i._,s=Array.prototype,a=Object.prototype,c=Function.prototype,f=s.push,p=s.slice,h=a.toString,v=a.hasOwnProperty,d=Array.isArray,g=Object.keys,m=c.bind,y=Object.create,_=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=b),n._=b):i._=b,b.VERSION="1.8.3";var x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,u){return t.call(e,n,r,u)};case 4:return function(n,r,u,l){return t.call(e,n,r,u,l)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?b.identity:b.isFunction(t)?x(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return w(t,e,1/0)};var S=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var u=1;r>u;u++)for(var l=arguments[u],i=t(l),o=i.length,s=0;o>s;s++){var a=i[s];e&&void 0!==n[a]||(n[a]=l[a])}return n}},E=function(t){if(!b.isObject(t))return{};if(y)return y(t);_.prototype=t;var e=new _;return _.prototype=null,e},P=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,k=P("length"),A=function(t){var e=k(t);return"number"==typeof e&&e>=0&&C>=e};b.each=b.forEach=function(t,e,n){e=x(e,n);var r,u;if(A(t))for(r=0,u=t.length;u>r;r++)e(t[r],r,t);else{var l=b.keys(t);for(r=0,u=l.length;u>r;r++)e(t[l[r]],l[r],t)}return t},b.map=b.collect=function(t,e,n){e=w(e,n);for(var r=!A(t)&&b.keys(t),u=(r||t).length,l=Array(u),i=0;u>i;i++){var o=r?r[i]:i;l[i]=e(t[o],o,t)}return l},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,n){var r;return r=A(t)?b.findIndex(t,e,n):b.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},b.filter=b.select=function(t,e,n){var r=[];return e=w(e,n),b.each(t,function(t,n,u){e(t,n,u)&&r.push(t)}),r},b.reject=function(t,e,n){return b.filter(t,b.negate(w(e)),n)},b.every=b.all=function(t,e,n){e=w(e,n);for(var r=!A(t)&&b.keys(t),u=(r||t).length,l=0;u>l;l++){var i=r?r[l]:l;if(!e(t[i],i,t))return!1}return!0},b.some=b.any=function(t,e,n){e=w(e,n);for(var r=!A(t)&&b.keys(t),u=(r||t).length,l=0;u>l;l++){var i=r?r[l]:l;if(e(t[i],i,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,r){return A(t)||(t=b.values(t)),("number"!=typeof n||r)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=p.call(arguments,2),r=b.isFunction(e);return b.map(t,function(t){var u=r?e:t[e];return null==u?u:u.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var r,u,l=-(1/0),i=-(1/0);if(null==e&&null!=t){t=A(t)?t:b.values(t);for(var o=0,s=t.length;s>o;o++)r=t[o],r>l&&(l=r)}else e=w(e,n),b.each(t,function(t,n,r){u=e(t,n,r),(u>i||u===-(1/0)&&l===-(1/0))&&(l=t,i=u)});return l},b.min=function(t,e,n){var r,u,l=1/0,i=1/0;if(null==e&&null!=t){t=A(t)?t:b.values(t);for(var o=0,s=t.length;s>o;o++)r=t[o],l>r&&(l=r)}else e=w(e,n),b.each(t,function(t,n,r){u=e(t,n,r),(i>u||u===1/0&&l===1/0)&&(l=t,i=u)});return l},b.shuffle=function(t){for(var e,n=A(t)?t:b.values(t),r=n.length,u=Array(r),l=0;r>l;l++)e=b.random(0,l),e!==l&&(u[l]=u[e]),u[e]=n[l];return u},b.sample=function(t,e,n){return null==e||n?(A(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=w(e,n),b.pluck(b.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,r){var u={};return n=w(n,r),b.each(e,function(r,l){var i=n(r,l,e);t(u,r,i)}),u}};b.groupBy=T(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=T(function(t,e,n){t[n]=e}),b.countBy=T(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):A(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:A(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=w(e,n);var r=[],u=[];return b.each(t,function(t,n,l){(e(t,n,l)?r:u).push(t)}),[r,u]},b.first=b.head=b.take=function(t,e,n){return null!=t?null==e||n?t[0]:b.initial(t,t.length-e):void 0},b.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e)):void 0},b.rest=b.tail=b.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var q=function(t,e,n,r){for(var u=[],l=0,i=r||0,o=k(t);o>i;i++){var s=t[i];if(A(s)&&(b.isArray(s)||b.isArguments(s))){e||(s=q(s,e,n));var a=0,c=s.length;for(u.length+=c;c>a;)u[l++]=s[a++]}else n||(u[l++]=s)}return u};b.flatten=function(t,e){return q(t,e,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,e,n,r){b.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var u=[],l=[],i=0,o=k(t);o>i;i++){var s=t[i],a=n?n(s,i,t):s;e?(i&&l===a||u.push(s),l=a):n?b.contains(l,a)||(l.push(a),u.push(s)):b.contains(u,s)||u.push(s)}return u},b.union=function(){return b.uniq(q(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,r=0,u=k(t);u>r;r++){var l=t[r];if(!b.contains(e,l)){for(var i=1;n>i&&b.contains(arguments[i],l);i++);i===n&&e.push(l)}}return e},b.difference=function(t){var e=q(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,k).length||0,n=Array(e),r=0;e>r;r++)n[r]=b.pluck(t,r);return n},b.object=function(t,e){for(var n={},r=0,u=k(t);u>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var u=n(e),l=0,i=k(t);i>l;){var o=Math.floor((l+i)/2);n(t[o])<u?l=o+1:i=o}return l},b.indexOf=u(1,b.findIndex,b.sortedIndex),b.lastIndexOf=u(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),u=Array(r),l=0;r>l;l++,t+=n)u[l]=t;return u};var L=function(t,e,n,r,u){if(!(r instanceof e))return t.apply(n,u);var l=E(t.prototype),i=t.apply(l,u);return b.isObject(i)?i:l};b.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return L(t,r,e,this,n.concat(p.call(arguments)))};return r},b.partial=function(t){var e=p.call(arguments,1),n=function(){for(var r=0,u=e.length,l=Array(u),i=0;u>i;i++)l[i]=e[i]===b?arguments[r++]:e[i];for(;r<arguments.length;)l.push(arguments[r++]);return L(t,n,this,this,l)};return n},b.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(r){var u=n.cache,l=""+(e?e.apply(this,arguments):r);return b.has(u,l)||(u[l]=t.apply(this,arguments)),u[l]};return n.cache={},n},b.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var r,u,l,i=null,o=0;n||(n={});var s=function(){o=n.leading===!1?0:b.now(),i=null,l=t.apply(r,u),i||(r=u=null)};return function(){var a=b.now();o||n.leading!==!1||(o=a);var c=e-(a-o);return r=this,u=arguments,0>=c||c>e?(i&&(clearTimeout(i),i=null),o=a,l=t.apply(r,u),i||(r=u=null)):i||n.trailing===!1||(i=setTimeout(s,c)),l}},b.debounce=function(t,e,n){var r,u,l,i,o,s=function(){var a=b.now()-i;e>a&&a>=0?r=setTimeout(s,e-a):(r=null,n||(o=t.apply(l,u),r||(l=u=null)))};return function(){l=this,u=arguments,i=b.now();var a=n&&!r;return r||(r=setTimeout(s,e)),a&&(o=t.apply(l,u),l=u=null),o}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},b.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return O&&l(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return O&&l(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),u=0;n>u;u++)r[u]=t[e[u]];return r},b.mapObject=function(t,e,n){e=w(e,n);for(var r,u=b.keys(t),l=u.length,i={},o=0;l>o;o++)r=u[o],i[r]=e(t[r],r,t);return i},b.pairs=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),u=0;n>u;u++)r[u]=[e[u],t[e[u]]];return r},b.invert=function(t){for(var e={},n=b.keys(t),r=0,u=n.length;u>r;r++)e[t[n[r]]]=n[r];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=S(b.allKeys),b.extendOwn=b.assign=S(b.keys),b.findKey=function(t,e,n){e=w(e,n);for(var r,u=b.keys(t),l=0,i=u.length;i>l;l++)if(r=u[l],e(t[r],r,t))return r},b.pick=function(t,e,n){var r,u,l={},i=t;if(null==i)return l;b.isFunction(e)?(u=b.allKeys(i),r=x(e,n)):(u=q(arguments,!1,!1,1),r=function(t,e,n){return e in n},i=Object(i));for(var o=0,s=u.length;s>o;o++){var a=u[o],c=i[a];r(c,a,i)&&(l[a]=c)}return l},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var r=b.map(q(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(r,e)}}return b.pick(t,e,n)},b.defaults=S(b.allKeys,!0),b.create=function(t,e){var n=E(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),r=n.length;if(null==t)return!r;for(var u=Object(t),l=0;r>l;l++){var i=n[l];if(e[i]!==u[i]||!(i in u))return!1}return!0};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var u=h.call(t);if(u!==h.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var l="[object Array]"===u;if(!l){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,o=e.constructor;if(i!==o&&!(b.isFunction(i)&&i instanceof i&&b.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),l){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!N(t[s],e[s],n,r))return!1}else{var a,c=b.keys(t);if(s=c.length,b.keys(e).length!==s)return!1;for(;s--;)if(a=c[s],!b.has(e,a)||!N(t[a],e[a],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(t,e){return N(t,e)},b.isEmpty=function(t){return null==t?!0:A(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=d||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&v.call(t,e)},b.noConflict=function(){return i._=o,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=P,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var r=Array(Math.max(0,t));e=x(e,n,1);for(var u=0;t>u;u++)r[u]=e(u);return r},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=b.invert(I),j=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",r=RegExp(n),u=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(u,e):t}};b.escape=j(I),b.unescape=j(D),b.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),b.isFunction(r)?r.call(t):r};var M=0;b.uniqueId=function(t){var e=++M+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+B[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var r=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),u=0,l="__p+='";t.replace(r,function(e,n,r,i,o){return l+=t.slice(u,o).replace(U,z),u=o+e.length,n?l+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?l+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(l+="';\n"+i+"\n__p+='"),e}),l+="';\n",e.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var i=new Function(e.variable||"obj","_",l)}catch(o){throw o.source=l,o}var s=function(t){return i.call(this,t,b)},a=e.variable||"obj";return s.source="function("+a+"){\n"+l+"}",s},b.chain=function(t){var e=b(t);return e._chain=!0,e};var H=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),H(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),b.each(["concat","join","slice"],function(t){var e=s[t];b.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],6:[function(t,e,n){e.exports={getInstance:function(){var t;try{return localStorage}catch(e){return t=e,{getItem:function(){return null},setItem:function(){return null},removeItem:function(){return null}}}}}},{}],7:[function(t,e,n){var r,u,l,i;l=t("background/localStorage").getInstance(),r="config_overrides",u={},i=function(t,e){var n,r;t||(t={});for(n in e)r=e[n],"object"!=typeof r||r instanceof Array?t[n]=r:t[n]=i(t[n],r);return t},u.extendConfig=function(t){return i(u,t),i(u,u.getConfigOverrides())},u.getConfigOverrides=function(){try{return JSON.parse(l.getItem(r))}catch(t){return{}}},u.setConfigOverrides=function(t){var e;return e=i(u.getConfigOverrides(),t),l.setItem(r,JSON.stringify(e))},u.clearConfigOverrides=function(){return l.removeItem(r)},i(u,u.getConfigOverrides()),e.exports=u},{"background/localStorage":6}],8:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/Iframes/base/Iframe"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e}(u),e.exports=r},{"content/Iframes/base/Iframe":9}],9:[function(t,e,n){var r,u,l,i,o=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};u=t("content/config"),l=t("content/messagingInterface"),i=t("screenfull"),r=function(){function t(t){this.url=t,this._actualizeCss=o(this._actualizeCss,this),this._onBeforeRouteChange=o(this._onBeforeRouteChange,this)}return t.prototype.el=null,t.prototype.containerSelector="html",t.prototype.css={position:"fixed","z-index":Math.pow(2,32)-1,overflow:"hidden",top:0,left:0,right:0,width:0,height:0,"max-height":"none","min-height":0,margin:"0 auto",padding:0,border:0,"background-color":"transparent"},t.prototype.stateCSS={min:{width:"138px",height:"13px"},bar:{width:"422px",height:"46px"},permanentBar:{width:"100%",height:"46px"},permanentBarAndDash:{width:"100%",height:"100%"},dash:{width:"100%",height:"100%"},popup:{width:"390px",height:"500px"}},t.prototype.statesWithAdaptingDelays={min:["bar"],popup:["bar"],bar:["min"],permanentBar:["min"],permanentBarAndDash:["min","permanentBar"],dash:["min","bar","permanentBar"]},t.prototype.stateRoutePatterns={min:[/^minimized/],bar:[/^$/,/^serp$/,/^PUA\/.+?\/bar$/],permanentBar:[/^offers\/minimized$/,/^maliciousSearchEngine$/,/^unsafeContent\/notification$/],permanentBarAndDash:[/^offers\/?.*$/],popup:[/^tour\/minimized$/],dash:[/^dash/,/^classification/,/^search_classification/,/^unsafeContent$/,/^trackers/,/^settings/,/^feedback/,/^PUA\/\w+$/,/^offers\/?.*$/,/^tour\/.+$/]},t.prototype.delays={stateChangeAdapting:u.barTransitionDelay,fromMinimized:u.barTransitionDelay,toMinimized:2*u.barTransitionDelay},t.prototype._currentState=null,t.prototype._adjustHeightTimeout=null,t.prototype._isTopURLUnsafe=!1,t.prototype._isMouseIn=!1,t.prototype._toShowTopBar=null,t.prototype.init=function(t){return l.publish("bgStorage",{get:"settings"},function(e){return function(n){return e._toShowTopBar=(null!=n?n.top_bar:void 0)!==!1,t()}}(this)),l.subscribe("indicatorBar:widthChanged",function(t){return function(e){return t._adjustWidth(e)}}(this))},t.prototype.createEl=function(){return this.el=document.createElement("iframe"),this.el.setAttribute("allowtransparency",!0),this.el.setAttribute("frameBorder",0),this.el.setAttribute("id","abs-top-frame"),this._applyCss(this.css)},t.prototype.attach=function(){var t;return t=document.querySelector(this.containerSelector),t.appendChild(this.el),this.el.setAttribute("src",this.url),this._changeState("min")},t.prototype.remove=function(){return this._toggleContentPushdown(!1),this.el.parentNode.removeChild(this.el)},t.prototype.subscribe=function(){return l.subscribe("router:beforeRouteChange",this._onBeforeRouteChange),l.subscribe("getDashState",function(t){return function(e,n){return l.publish("URLFilter",{action:"getTabData"},function(e){return n({isActive:"dash"===t._currentState,isPUA:e.isPUA})})}}(this)),l.subscribe("settingChanged:top_bar",function(t){return function(e){return t._toShowTopBar=e}}(this)),l.publish("URLFilter",{action:"getTabData"},function(t){return function(e){return e.unsafe?(t._isTopURLUnsafe=!0,t._actualizeCss()):void 0}}(this)),this.el.addEventListener("mouseover",function(t){return function(e){return e.stopPropagation(),t._isMouseIn=!0,"min"===t._currentState?t._changeRouteOrPass("",t.delays.fromMinimized,function(){return t._isMouseIn}):void 0}}(this)),this.el.addEventListener("mouseout",function(t){return function(e){return e.stopPropagation(),t._isMouseIn=!1,t._minimizeOrPass()}}(this)),i.enabled?document.addEventListener(i.raw.fullscreenchange,function(t){return function(){return t.el.style.display=i.isFullscreen?"none":"block"}}(this)):void 0},t.prototype._toShow=function(){var t;return this._toShowTopBar?!0:this._isTopURLUnsafe?!0:"permanentBarAndDash"===(t=this._currentState)||"permanentBar"===t||"popup"===t||"dash"===t},t.prototype._onBeforeRouteChange=function(t){var e,n,r,u,l,i;u=this.stateRoutePatterns;for(i in u)for(r=u[i],e=0,n=r.length;n>e;e++)if(l=r[e],l.test(t.route))return this._changeState(i),void this._focusWindow(i)},t.prototype._changeState=function(t){var e;if(t!==this._currentState)return e=this._getDelayByState(t),this._toggleContentPushdownByState(t),this._currentState=t,this._actualizeCssWithDelay(e),this._adjustHeightWithDelay(e),l.publish("dashStateChanged","dash"===this._currentState)},t.prototype._actualizeCssWithDelay=function(t){return t?setTimeout(this._actualizeCss,t):this._actualizeCss()},t.prototype._actualizeCss=function(){return this._toShow()?(this._applyCss({display:"block"}),this._applyCss(this.stateCSS[this._currentState])):this._applyCss({display:"none"})},t.prototype._applyCss=function(t){var e,n,r;n=[];for(e in t)r=t[e],n.push(this._applyCssProperty(e,r));return n},t.prototype._applyCssProperty=function(t,e){return this.el.style.setProperty(t,e,"important")},t.prototype._getDelayByState=function(t){return this._currentState?s.call(this.statesWithAdaptingDelays[this._currentState],t)<0?0:this.delays.stateChangeAdapting:0},t.prototype._toggleContentPushdownByState=function(t){var e,n;return"min"!==(e=this._currentState)&&"popup"!==e||"permanentBar"!==t&&"permanentBarAndDash"!==t||setTimeout(function(t){return function(){return t._toggleContentPushdown(!0)}}(this),this.delays.fromMinimized),"min"!==t&&"dash"!==t||"permanentBar"!==(n=this._currentState)&&"permanentBarAndDash"!==n?void 0:this._toggleContentPushdown(!1)},t.prototype._toggleContentPushdown=function(t){return this._toggleElementPushdown(document.querySelector("html"),"margin-top",t),this._toggleCustomContentPushdown(t)},t.prototype._toggleCustomContentPushdown=function(t){var e,n,r,u,l,i,o;n={"^https?:\\/\\/www\\.youtube\\.com\\/":"#masthead-positioner","^https?:\\/\\/www\\.pinterest\\.com\\/":".App .headerBackground, .App .headerContainer","^https?:\\/\\/(www\\.)?google\\.(((com|co)\\.[a-z]{2})|[a-z]{2,3})\\/search\\?":this._positionBody,"^https?:\\/\\/(www\\.)?google\\.(((com|co)\\.[a-z]{2})|[a-z]{2,3})\\/":"#viewport","^https?:\\/\\/www\\.apple\\.com\\/":"nav#ac-globalnav"};for(i in n)if(e=n[i],new RegExp(i).test(window.location.href)){if("function"==typeof e)return e();for(o=document.querySelectorAll(e),u=0,l=o.length;l>u;u++)r=o[u],this._toggleElementPushdown(r,"top",t);return}},t.prototype._toggleElementPushdown=function(t,e,n){return n&&t.style.setProperty("transition",e+" 200ms linear"),t.style.setProperty(e,n?this.stateCSS.permanentBar.height:0)},t.prototype._positionBody=function(){return document.body.style.setProperty("position","relative")},t.prototype._adjustWidth=function(t){return this._toAdjustWidth()?this._applyCss({width:t+"px"}):void 0},t.prototype._adjustHeightWithDelay=function(t){return clearTimeout(this._adjustHeightTimeout),this._toAdjustHeight()?this._adjustHeightTimeout=setTimeout(function(t){return function(){return t._toAdjustHeight()?l.publish("Popup:getHeight",null,function(e){return t._applyCss({height:e+"px"})}):void 0}}(this),t):void 0},t.prototype._toAdjustWidth=function(){var t;return"bar"===(t=this._currentState)||"permanentBar"===t},t.prototype._toAdjustHeight=function(){return"popup"===this._currentState},t.prototype._changeRouteOrPass=function(t,e,n){return setTimeout(function(e){return function(){var e;return e=null==n||"function"==typeof n&&n(),e?l.publish("router:navigateTo",{route:t}):void 0}}(this),e)},t.prototype._minimizeOrPass=function(){return"bar"===this._currentState?this._changeRouteOrPass("minimized",this.delays.toMinimized,function(t){return function(){return!t._isMouseIn&&"bar"===t._currentState}}(this)):void 0},t.prototype._focusWindow=function(t){return setTimeout(function(e){return function(){switch(!0){case"dash"===t:return e.el.contentWindow.focus();case"dash"===e._currentState:return window.focus()}}}(this))},t}(),e.exports=r},{"content/config":10,"content/messagingInterface":12,screenfull:4}],10:[function(t,e,n){var r;r=t("config"),e.exports=r.extendConfig({localServer:"http://127.0.0.1:9961/",barTransitionDelay:200})},{config:7}],11:[function(t,e,n){var r,u,l,i,o,s,a,c,f,p,h,v;u=t("content/Iframes/Iframe"),o=t("browser_accessors/extensionAccessor"),r=t("content/ContentMessenger"),h=t("screenfull"),l=t("modules/offers/content/Offers"),i=t("modules/offers/content/Scraper"),v=t("content/search/search"),p=new r,a=function(t){return t.match(/^https:\/\/webmail\.freenet\.de\/Email\/View\/MsgEdit/)||t.match(/^https:\/\/posteo\.de\/webmail\//)||t.match(/^https:\/\/www\.banking\.co\.at\//)||t.match(/^https:\/\/onlinebanking\.tdbank\.com\//)||t.match(/^https:\/\/my\.number26\.de\//)},f=function(){return document.querySelector("#mailboxmenu.popupmenu")&&document.querySelector("#rcm_folderlist.contextmenu.popupmenu")},c=function(){return"HomeMatic WebUI"===document.title},s=function(){var t,e;return t=(new Date).getTime(),e=new u(o.getURL("html/top.html?"+t+"#minimized")),e.init(function(){var t;return e.createEl(),e.attach(),e.subscribe(),t=function(t){return e.el.style.display=t?"block":"none"},h.enabled&&document.addEventListener(h.raw.fullscreenchange,function(){return t(!h.isFullscreen)}),p.publish("bgStorage",{get:"settings"},function(t){var e;return(null!=t?t.offers:void 0)!==!1?(e=new l({scraper_constructor:i}),e.start()):void 0}),e.el.addEventListener("load",v.initSearchAnnotations)}),p.onDisconnect(function(){return e.remove()})},a(location.href)||f()||c()||s()},{"browser_accessors/extensionAccessor":1,"content/ContentMessenger":2,"content/Iframes/Iframe":8,"content/search/search":21,"modules/offers/content/Offers":22,"modules/offers/content/Scraper":23,screenfull:4}],12:[function(t,e,n){var r,u;r=t("content/ContentMessenger"),u=new r,e.exports={messenger:u,subscribe:u.subscribe.bind(u),publish:u.publish.bind(u),onMessengerReady:u.onReady.bind(u),onMessengerDisconnect:u.onDisconnect.bind(u),_messengerSetReady:u.setReady.bind(u)}},{"content/ContentMessenger":2}],13:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/search/engines/base/base"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/([\w-]+\.)*ask\.com\//,e.prototype.element_selector=".content-mid",e.prototype.link_selector=".wresult.tsrc_tled a,.wresult.tsrc_answ a,.web-result.ur.tsrc_tled a",e.prototype.observe=!1,e}(u),e.exports=r},{"content/search/engines/base/base":15}],14:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/search/engines/base/base"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/search.avira.com\/web\?/,e.prototype.element_selector="#algo",e.prototype.link_selector="a.pseudolink",e.prototype.observe=!1,e}(u),e.exports=r},{"content/search/engines/base/base":15}],15:[function(t,e,n){var r,u,l;r=t("content/search/result"),l=t("content/messagingInterface"),u=function(){function t(){}return t.pattern=/$^/,t.prototype.element_selector="html",t.prototype.link_selector="a",t.prototype.observe=!1,t.prototype.mutationInterval=200,t.prototype.prev_urls=null,t.prototype.prev_response=null,t.prototype.init=function(){var t;return"complete"===(t=document.readyState)||"interactive"===t?this.refresh():document.addEventListener("DOMContentLoaded",function(t){return function(){return t.refresh()}}(this))},t.prototype.refresh=function(){return this.crawlLinks(),this.classifyResults(),this.observe?this.initObserver():void 0},t.prototype.initObserver=function(){var t,e;return this.observer&&this.observer.disconnect(),(e=document.querySelector(this.element_selector))?(this.observer=new MutationObserver(function(t){return function(e){return e.forEach(function(e){var n,r,u;return n="__avira__search_block"===(null!=(r=e.addedNodes)&&null!=(u=r[0])?u.className:void 0),t.ignoreMutations||"childList"!==e.type||n?void 0:(setTimeout(function(){return t.ignoreMutations=!1,t.crawlLinks(),t.classifyResults()},t.mutationInterval),t.ignoreMutations=!0)})}}(this)),t={childList:!0,subtree:!0},this.observer.observe(e,t)):void 0},t.prototype.crawlLinks=function(){var t;return t=document.querySelectorAll(this.element_selector+" "+this.link_selector),this.results=Array.prototype.slice.call(t).map(function(t){return function(e){return t.processLink(e)}}(this))},t.prototype.processLink=function(t){var e,n,u,l;if(this.results)for(u=this.results,e=0,n=u.length;n>e;e++)if(l=u[e],l.link===t)return l;return l=new r(t),l.addTemplate(),l},t.prototype.classifyResults=function(){var t;if(0!==this.results.length)return t=this.results.map(function(t){return t.url}),JSON.stringify(this.prev_urls)===JSON.stringify(t)?this.onResultsClassified(this.prev_response):l.publish("classifyUrls",{urls:t},function(e){return function(n){return e.onResultsClassified(n),e.prev_urls=t,e.prev_response=n}}(this))},t.prototype.onResultsClassified=function(t){var e,n,r,u;for(n=r=0,u=t.length;u>r;n=++r)e=t[n],this.results[n].setCategory(e);return l.publish("setSERPStatus",{linksAmount:this.results.length})},t}(),e.exports=u},{"content/messagingInterface":12,"content/search/result":20}],16:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/search/engines/base/base"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/([\w-]+\.)*bing\.com\//,e.prototype.element_selector="#b_content",e.prototype.link_selector="h2 a",e.prototype.observe=!0,e}(u),e.exports=r},{"content/search/engines/base/base":15}],17:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/search/engines/base/base"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/([\w-]+\.)*duckduckgo\.com\//,e.prototype.element_selector="#links",e.prototype.link_selector="h2 a.result__a",e.prototype.observe=!0,e}(u),e.exports=r},{"content/search/engines/base/base":15}],18:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,
t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;u=t("content/search/engines/base/base"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/(www\.)?google\.(((com|co)\.[a-z]{2})|[a-z]{2,3})\//,e.prototype.element_selector="html",e.prototype.link_selector=".srg .rc > h3.r a, #newsbox .tl a",e.prototype.observe=!0,e}(u),e.exports=r},{"content/search/engines/base/base":15}],19:[function(t,e,n){var r,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;r=t("content/search/engines/base/base"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.pattern=/^https?:\/\/([\w-]+\.)*yahoo\.com\//,e.prototype.element_selector="#web",e.prototype.link_selector="h3 a",e.prototype.observe=!0,e}(r),e.exports=u},{"content/search/engines/base/base":15}],20:[function(t,e,n){var r,u,l=function(t,e){return function(){return t.apply(e,arguments)}};u=t("content/messagingInterface"),r=function(){function t(t){this._onInfoClick=l(this._onInfoClick,this),this._onMouseLeave=l(this._onMouseLeave,this),this._onMouseEnter=l(this._onMouseEnter,this),this.link=t,this.url=t.href}var e;return e=null,t.prototype.setStatusDelay=300,t.prototype.categories=[1],t.prototype.addTemplate=function(){var t;return this.info=document.createElement("div"),this.info.className="__avira__search_block",t=this.link.parentNode,t.insertBefore(this.info,t.childNodes[0]),t.style.position="relative",t=t.parentNode,t.addEventListener("mouseenter",this._onMouseEnter),t.addEventListener("mouseleave",this._onMouseLeave),this.info.addEventListener("click",this._onInfoClick)},t.prototype.setCategory=function(t){return this.category=t,this.category.unsafe&&this.info.classList.add("__avira__info-danger"),this.category.isPUA?this.info.classList.add("__avira__info-pua"):void 0},t.prototype._onMouseEnter=function(){return this._setStatus(this.category)},t.prototype._onMouseLeave=function(){return this._setStatus({url:null,category:null,unsafe:null,isPUA:null})},t.prototype._setStatus=function(e){return clearTimeout(t.setStatusTimeout),t.setStatusTimeout=setTimeout(function(t){return function(){return u.publish("setSERPStatus",{urlInfo:e})}}(this),this.setStatusDelay)},t.prototype._onInfoClick=function(t){var e;return t.stopPropagation(),e={urlInfo:JSON.parse(JSON.stringify(this.category)),clicked:!0},u.publish("setSERPStatus",e)},t}(),e.exports=r},{"content/messagingInterface":12}],21:[function(t,e,n){var r,u,l;r=t("content/messagingInterface"),l=[t("./engines/ask"),t("./engines/avira"),t("./engines/bing"),t("./engines/duckduckgo"),t("./engines/google"),t("./engines/yahoo")],u={currentSearchEngine:null,initSearchAnnotations:function(){}},l.forEach(function(t){return t.pattern.test(window.location.href)?(u.currentSearchEngine=new t,u.initSearchAnnotations=function(){return u.currentSearchEngine.init()},window.addEventListener("hashchange",function(){return u.currentSearchEngine.refresh()})):void 0}),r.subscribe("isTabSerp",function(t,e){return e(!!u.currentSearchEngine)}),e.exports=u},{"./engines/ask":13,"./engines/avira":14,"./engines/bing":16,"./engines/duckduckgo":17,"./engines/google":18,"./engines/yahoo":19,"content/messagingInterface":12}],22:[function(t,e,n){var r,u,l,i=function(t,e){return function(){return t.apply(e,arguments)}};l=t("content/messagingInterface"),u=t("underscore"),r=function(){function t(t){if(null==t&&(t={}),this._scrapePage=i(this._scrapePage,this),this._onScrapingLoaded=i(this._onScrapingLoaded,this),!t.scraper_constructor)throw new Error("options.scraper_constructor is not defined");this._scraper_constructor=t.scraper_constructor}return t.prototype._LOCATION_CHECK_INTERVAL=500,t.prototype._DELAY_BEFORE_RECHECK=1e3,t.prototype._JS_SCRIPT_ID="avira-offers-js-expressions",t.prototype.start=function(){return l.publish("AO:contentReady",{url:location.href},this._onScrapingLoaded)},t.prototype._onScrapingLoaded=function(t){return t&&(this._scrapePage(t),t.rescrape)?this._addLocationListener(function(e){return function(){return e._scrapePage(t)}}(this)):void 0},t.prototype._addLocationListener=function(t){var e,n;return n=location.toString(),e=function(e){return function(){return location.toString()!==n?(n=location.toString(),setTimeout(t,e._DELAY_BEFORE_RECHECK)):void 0}}(this),setInterval(e,this._LOCATION_CHECK_INTERVAL)},t.prototype._scrapePage=function(t){var e,n,r,u;return r=new this._scraper_constructor(document,t),u={url:location.href,data:null,js_data:r.scrapeJS(),xpath_data:r.scrapeXPath()},e=function(t){return function(){return t._isEmptyObject(u.js_data)&&t._isEmptyObject(u.xpath_data)?l.publish("AO:data",{products:[]}):l.publish("AO:pageScraped",u)}}(this),n=function(t){return u.data=t,l.publish("AO:pageScraped",u)},r.scrapeCSL(n,e)},t.prototype._isEmptyObject=function(t){return!t||0===Object.keys(t).length},t}(),e.exports=r},{"content/messagingInterface":12,underscore:5}],23:[function(t,e,n){var r,u;u=t("external-dependencies/ciuvo.cs.min").com.ciuvo.csl,r=function(){function t(t,e){var n,r;this.document=t,null==e&&(e={}),this.xpath=e.xpath_expressions,this.js_expressions=e.js_expressions,this.csl=e.csl,this.xpath_required=null!=(n=e.xpath_required)?n:[],this.js_required=null!=(r=e.js_required)?r:[]}return t.prototype._parseXPathResult=function(t){var e,n;if(n=null,1===t.resultType)n=t.numberValue.toString();else if(2===t.resultType)n=t.stringValue;else if(3===t.resultType)n=t.booleanValue.toString();else{if(e=t.iterateNext(),!e)return!1;if(e.textContent)n=e.textContent;else if(e.innerText)n=e.innerText;else if(e.value)n=e.value;else{if(!e.text)return null;n=e.text}}return n},t.prototype.scrapeXPath=function(){var t,e,n,r,u,l;if(!this.xpath)return null;r={},n=this.xpath;for(e in n){u=n[e];try{l=this.document.evaluate(u,this.document,null,XPathResult.ANY_TYPE,null),r[e]=this._parseXPathResult(l)}catch(i){return t=i,console.log("EEE",t),null}}return this._containsKeys(r,this.xpath_required)?r:null},t.prototype.scrapeCSL=function(t,e){var n,r;try{return r=new u.Interpreter(this.document,window,t,e),r.interpret(u.parser.parse(this.csl))}catch(l){return n=l,e(n)}},t.prototype.scrapeJS=function(){var t,e,n,r,u,l,i;return this.js_expressions?(u=this.document.createElement("script"),t=this.document.head||this.document.body,e="offers-"+(0|9e6*Math.random()).toString(36),u.setAttribute("id",e),l=this._generateScriptContent(this.js_expressions,e),i=this.document.createTextNode(l),u.appendChild(i),t.appendChild(u),r=u.getAttribute("result"),t.removeChild(u),n=JSON.parse(r),this._containsKeys(n,this.js_required)?n:null):null},t.prototype._containsKeys=function(t,e){var n,r,u;for(n=0,u=e.length;u>n;n++)if(r=e[n],!t[r])return!1;return!0},t.prototype._generateScriptContent=function(t,e){var n,r,u;u="(function() {\n   var result = {};";for(r in t)n=t[r],u+='try {\n  result["'+r+'"] = '+n+";\n} catch (e) {\n}";return u+='  try {\n    document.querySelector("#'+e+"\").setAttribute('result', JSON.stringify(result));\n  } catch (e) {\n  }\n})();"},t}(),e.exports=r},{"external-dependencies/ciuvo.cs.min":3}]},{},[11]);